import{T as _,r as y,d as l,b as i,w as r,F as m,o as d,a as t,g as h,f as c,t as u,n as v,u as o,e as f,h as b}from"./app-DdPDE7aa.js";import{_ as k}from"./AppLayout-T0TgsLoL.js";import w from"./Page-DeCr_yA7.js";import{D as n}from"./datetime-DcQSltNB.js";import{_ as D}from"./ConfirmationModal-DgGKc5xz.js";import{_ as M}from"./SecondaryButton-6NCjuDHg.js";import{_ as E}from"./DangerButton-B3aEvtvu.js";import"./logo-3HeDyDTa.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Modal-7IzwkH7K.js";const C={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},S={class:"w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400"},I={class:"odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 border-b dark:border-gray-700"},T={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},A={class:"px-6 py-4 text-center"},B={class:"px-6 py-4 text-center"},$={class:"px-6 py-4 text-center"},L={key:0},N=["onClick"],K={__name:"Index",props:{secrets:Array},setup(g){const p=_({}),a=y(null),x=()=>{p.delete(route("secrets.destroy",a.value.hash_id),{preserveScroll:!0,onFinish:()=>a.value=null})};return(O,e)=>(d(),l(m,null,[i(k,{title:"My Secrets"},{header:r(()=>e[2]||(e[2]=[t("h2",{class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"}," My Secrets ",-1)])),default:r(()=>[i(w,null,{default:r(()=>[t("div",C,[t("table",S,[e[3]||(e[3]=t("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3"}," Message ID "),t("th",{scope:"col",class:"px-6 py-3 text-center"}," Created At "),t("th",{scope:"col",class:"px-6 py-3 text-center"}," Expires At "),t("th",{scope:"col",class:"px-6 py-3 text-center"}," Retrieved / Burned At ")])],-1)),t("tbody",null,[(d(!0),l(m,null,h(g.secrets.data,s=>(d(),l("tr",I,[t("th",T,u(s.hash_id),1),t("td",A,u(o(n).fromISO(s.created_at).toLocaleString(o(n).DATETIME_MED)),1),t("td",B,u(o(n).fromISO(s.expires_at).toLocaleString(o(n).DATETIME_MED)),1),t("td",$,[s.retrieved_at?(d(),l("span",L,u(o(n).fromISO(s.retrieved_at).toLocaleString(o(n).DATETIME_MED)),1)):f("",!0),s.retrieved_at?f("",!0):(d(),l("button",{key:1,onClick:b(()=>a.value=s,["prevent"]),class:"inline-flex items-center font-medium text-red-600 dark:text-red-500 hover:underline cursor-pointer focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 dark:focus:ring-offset-red-800"},"Burn",8,N))])]))),256))])])])]),_:1})]),_:1}),i(D,{show:a.value!=null,onClose:e[1]||(e[1]=s=>a.value=null)},{title:r(()=>[c(" Delete Message - "+u(a.value.hash_id),1)]),content:r(()=>e[4]||(e[4]=[c(" Are you sure you would like to burn this Message? Once burned, no one will be able to retrieve the message. ")])),footer:r(()=>[i(M,{onClick:e[0]||(e[0]=s=>a.value=null)},{default:r(()=>e[5]||(e[5]=[c(" Cancel ")])),_:1}),i(E,{class:v(["ms-3",{"opacity-25":o(p).processing}]),disabled:o(p).processing,onClick:x},{default:r(()=>e[6]||(e[6]=[c(" Delete ")])),_:1},8,["class","disabled"])]),_:1},8,["show"])],64))}};export{K as default};
