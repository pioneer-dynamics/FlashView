import{H as ze,I as Ye,r as M,C as Qe,j as F,o as x,d as P,a as m,n as V,t as $,e as K,m as ie,h as W,A as Xe,F as Ze,g as We,f as B,Q as I,T as ue,c as G,w as j,b as R,u as C,i as X,s as Je}from"./app-BBnStw0N.js";import{_ as ce}from"./PrimaryButton-1gAzsOlE.js";import{a as fe,_ as et}from"./TextInput-3zNnmePh.js";import{_ as ke}from"./InputLabel-JzgaO5Yc.js";const q=window.crypto||window.msCrypto,w=q.subtle||q.webkitSubtle,Q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Z=new Uint8Array(256),de="06092a864886f70d01050d",z="06092a864886f70d01050c",pe="060960864801650304012e",he="060960864801650304011a",ye="0609608648016503040106",ge="060960864801650304012a",me="0609608648016503040116",be="0609608648016503040102",we="060960864801650304012c",Ee="0609608648016503040118",xe="06086086480165030404",Be="06082a864886f70d020b0500",Pe="06082a864886f70d020a0500",Oe="06082a864886f70d02090500",_e="06082a864886f70d02070500",Ne="06092a864886f70d010101",Ie="06072a8648ce3d0201",He="06082a8648ce3d030107",De="06052b81040022",je="06052b81040023";class ve{constructor(){for(let a=0;a<Q.length;a++)Z[Q.charCodeAt(a)]=a}encodeAb(a){const e=new Uint8Array(a),t=e.length;let n="";for(let i=0;i<t;i+=3)n+=Q[e[i]>>2],n+=Q[(e[i]&3)<<4|e[i+1]>>4],n+=Q[(e[i+1]&15)<<2|e[i+2]>>6],n+=Q[e[i+2]&63];return t%3===2?n=n.substring(0,n.length-1)+"=":t%3===1&&(n=n.substring(0,n.length-2)+"=="),n}decodeAb(a){const e=a.length;let t=a.length*.75,n=0,i,l,s,r;a[a.length-1]==="="&&(t--,a[a.length-2]==="="&&t--);const o=new ArrayBuffer(t);let u=new Uint8Array(o);for(let c=0;c<e;c+=4)i=Z[a.charCodeAt(c)],l=Z[a.charCodeAt(c+1)],s=Z[a.charCodeAt(c+2)],r=Z[a.charCodeAt(c+3)],u[n++]=i<<2|l>>4,u[n++]=(l&15)<<4|s>>2,u[n++]=(s&3)<<6|r&63;return o}arrayBufferToString(a){if(typeof a!="object")throw new TypeError("Expected input of arrayBuffer to be an ArrayBuffer Object");return new TextDecoder("utf-8").decode(a)}stringToArrayBuffer(a){if(typeof a!="string")throw new TypeError("Expected input of str to be a String");return new TextEncoder("utf-8").encode(a).buffer}arrayBufferToHexString(a){if(typeof a!="object")throw new TypeError("Expected input of arrayBuffer to be an ArrayBuffer Object");const e=new Uint8Array(a);let t="",n;for(let i=0;i<e.byteLength;i++)n=e[i].toString(16),n.length<2&&(n="0"+n),t+=n;return t}hexStringToArrayBuffer(a){if(typeof a!="string")throw new TypeError("Expected input of hexString to be a String");if(a.length%2!==0)throw new RangeError("Expected string to be an even number of characters");const e=new Uint8Array(a.length/2);for(let t=0;t<a.length;t+=2)e[t/2]=parseInt(a.substring(t,t+2),16);return e.buffer}arrayBufferToBase64(a){if(typeof a!="object")throw new TypeError("Expected input of arrayBuffer to be an ArrayBuffer Object");return this.encodeAb(a)}base64ToArrayBuffer(a){if(typeof a!="string")throw new TypeError("Expected input of b64 to be a Base64 String");return this.decodeAb(a)}decimalToHex(a,e){if(e=typeof e<"u"?e:!1,typeof e!="boolean")throw new TypeError("Expected input of unsigned to be a Boolean");let t=null;if(typeof a=="number")return e?(t=a.toString(16),t.length%2?"000"+t:"00"+t):(t=a.toString(16),t.length%2?"0"+t:t);if(typeof a=="string")return t=(a.length/2).toString(16),t.length%2?"0"+t:t;throw new TypeError("Expected input of d to be a Number or String")}addNewLines(a){let e="";for(;a.length>0;)e+=a.substring(0,64)+`\r
`,a=a.substring(64);return e}removeLines(a){return a.replace(/\r?\n|\r/g,"")}toAsn1(a,e,t,n,i,l,s){a=this.arrayBufferToHexString(a),e=this.arrayBufferToHexString(e),t=this.arrayBufferToHexString(t),n=this.decimalToHex(n,!0);const r={};switch(i){case"SHA-512":r.HASH_OID=Be;break;case"SHA-384":r.HASH_OID=Pe;break;case"SHA-256":r.HASH_OID=Oe;break;case"SHA-1":r.HASH_OID=_e}switch(l){case"AES-GCM":s===256?r.CIPHER_OID=pe:s===192?r.CIPHER_OID=he:s===128&&(r.CIPHER_OID=ye);break;case"AES-CBC":s===256?r.CIPHER_OID=ge:s===192?r.CIPHER_OID=me:s===128&&(r.CIPHER_OID=be);break;case"AES-CFB":s===256?r.CIPHER_OID=we:s===192?r.CIPHER_OID=Ee:s===128&&(r.CIPHER_OID=xe)}const o="02"+this.decimalToHex(n.length/2)+n,u="04"+this.decimalToHex(e)+e,c="04"+this.decimalToHex(t)+t,d="04"+(this.decimalToHex(a).length/2===2?"82":"81")+this.decimalToHex(a)+a;r.SEQUENCE_AES_CONTAINER="30"+this.decimalToHex(r.CIPHER_OID+c),r.SEQUENCE_HASH_CONTAINER="30"+this.decimalToHex(r.HASH_OID),r.SEQUENCE_PBKDF2_INNER_CONTAINER="30"+this.decimalToHex(u+o+r.SEQUENCE_HASH_CONTAINER+r.HASH_OID),r.SEQUENCE_PBKDF2_CONTAINER="30"+this.decimalToHex(z+r.SEQUENCE_PBKDF2_INNER_CONTAINER+u+o+r.SEQUENCE_HASH_CONTAINER+r.HASH_OID),r.SEQUENCE_PBES2_INNER_CONTAINER="30"+this.decimalToHex(r.SEQUENCE_PBKDF2_CONTAINER+z+r.SEQUENCE_PBKDF2_INNER_CONTAINER+u+o+r.SEQUENCE_HASH_CONTAINER+r.HASH_OID+r.SEQUENCE_AES_CONTAINER+r.CIPHER_OID+c),r.SEQUENCE_PBES2_CONTAINER="30"+this.decimalToHex(de+r.SEQUENCE_PBES2_INNER_CONTAINER+r.SEQUENCE_PBKDF2_CONTAINER+z+r.SEQUENCE_PBKDF2_INNER_CONTAINER+u+o+r.SEQUENCE_HASH_CONTAINER+r.HASH_OID+r.SEQUENCE_AES_CONTAINER+r.CIPHER_OID+c);const y=r.SEQUENCE_PBES2_CONTAINER+de+r.SEQUENCE_PBES2_INNER_CONTAINER+r.SEQUENCE_PBKDF2_CONTAINER+z+r.SEQUENCE_PBKDF2_INNER_CONTAINER+u+o+r.SEQUENCE_HASH_CONTAINER+r.HASH_OID+r.SEQUENCE_AES_CONTAINER+r.CIPHER_OID+c,v=this.decimalToHex(y+d),O="30"+(v.length/2===2?"82":"81")+v+y+d,U=this.hexStringToArrayBuffer(O);let g=this.arrayBufferToBase64(U);return g=this.addNewLines(g),g=`-----BEGIN ENCRYPTED PRIVATE KEY-----\r
`+g+"-----END ENCRYPTED PRIVATE KEY-----",g}fromAsn1(a){a=this.removeLines(a),a=a.replace("-----BEGIN ENCRYPTED PRIVATE KEY-----",""),a=a.replace("-----END ENCRYPTED PRIVATE KEY-----",""),a=this.base64ToArrayBuffer(a);const e={},t=this.arrayBufferToHexString(a);return e.data=t,e.data.includes(de)&&e.data.includes(z)&&(e.valid=!0),e.saltBegin=e.data.indexOf(z)+28,e.data.includes(pe)?(e.cipher="AES-GCM",e.length=256,e.ivBegin=e.data.indexOf(pe)+24):e.data.includes(he)?(e.cipher="AES-GCM",e.length=192,e.ivBegin=e.data.indexOf(he)+24):e.data.includes(ye)?(e.cipher="AES-GCM",e.length=128,e.ivBegin=e.data.indexOf(ye)+24):e.data.includes(ge)?(e.cipher="AES-CBC",e.length=256,e.ivBegin=e.data.indexOf(ge)+24):e.data.includes(me)?(e.cipher="AES-CBC",e.length=192,e.ivBegin=e.data.indexOf(me)+24):e.data.includes(be)?(e.cipher="AES-CBC",e.length=128,e.ivBegin=e.data.indexOf(be)+24):e.data.includes(we)?(e.cipher="AES-CFB",e.length=256,e.ivBegin=e.data.indexOf(we)+24):e.data.includes(Ee)?(e.cipher="AES-CFB",e.length=192,e.ivBegin=e.data.indexOf(Ee)+24):e.data.includes(xe)&&(e.cipher="AES-CFB",e.length=128,e.ivBegin=e.data.indexOf(xe)+22),e.data.includes(Be)?e.hash="SHA-512":e.data.includes(Pe)?e.hash="SHA-384":e.data.includes(Oe)?e.hash="SHA-256":e.data.includes(_e)&&(e.hash="SHA-1"),e.saltLength=parseInt(e.data.substr(e.saltBegin,2),16),e.ivLength=parseInt(e.data.substr(e.ivBegin,2),16),e.salt=e.data.substr(e.saltBegin+2,e.saltLength*2),e.iv=e.data.substr(e.ivBegin+2,e.ivLength*2),e.iterBegin=e.saltBegin+4+e.saltLength*2,e.iterLength=parseInt(e.data.substr(e.iterBegin,2),16),e.iter=parseInt(e.data.substr(e.iterBegin+2,e.iterLength*2),16),e.sequencePadding=e.data.substr(2,2)==="81"?8:10,e.parametersPadding=e.data.substr(2,2)==="81"?12:16,e.sequenceLength=parseInt(e.data.substr(e.sequencePadding,2),16),e.encryptedDataBegin=e.parametersPadding+e.sequenceLength*2,e.encryptedDataPadding=e.data.substr(e.encryptedDataBegin-2,2)==="81"?2:4,e.encryptedDataLength=parseInt(e.data.substr(e.encryptedDataBegin,6),16),e.encryptedData=e.data.substr(e.encryptedDataBegin+e.encryptedDataPadding,e.encryptedDataLength*2),{salt:this.hexStringToArrayBuffer(e.salt),iv:this.hexStringToArrayBuffer(e.iv),cipher:e.cipher,length:e.length,hash:e.hash,iter:e.iter,encryptedData:this.hexStringToArrayBuffer(e.encryptedData)}}cryptoPrivateToPem(a){const e=this;return new Promise((t,n)=>{if(Object.prototype.toString.call(a)!=="[object CryptoKey]"&&a.type!=="private")throw new TypeError("Expected input to be a CryptoKey Object");w.exportKey("pkcs8",a).then(i=>{const l=e.arrayBufferToBase64(i);let s=e.addNewLines(l);s=`-----BEGIN PRIVATE KEY-----\r
`+s+"-----END PRIVATE KEY-----",t(s)}).catch(i=>{n(i)})})}pemPrivateToCrypto(a,e){const t=this;return typeof e>"u"&&(e={}),e.isExtractable=typeof e.isExtractable<"u"?e.isExtractable:!0,new Promise((n,i)=>{if(typeof a!="string")throw new TypeError("Expected input of pem to be a String");if(typeof e.isExtractable!="boolean")throw new TypeError("Expected input of options.isExtractable to be a Boolean");a=a.replace("-----BEGIN PRIVATE KEY-----",""),a=a.replace("-----END PRIVATE KEY-----","");const l=t.removeLines(a),s=t.base64ToArrayBuffer(l),r=t.arrayBufferToHexString(s),o={};if(r.includes(Ie)){if(e.name=typeof e.name<"u"?e.name:"ECDH",typeof e.name!="string")throw new TypeError("Expected input of options.name to be a String");let u=null;if(r.includes(He)?u="P-256":r.includes(De)?u="P-384":r.includes(je)&&(u="P-521"),e.name==="ECDH")e.usages=typeof e.usages<"u"?e.usages:["deriveKey","deriveBits"];else if(e.name==="ECDSA")e.usages=typeof e.usages<"u"?e.usages:["sign"];else throw new TypeError("Expected input of options.name is not a valid algorithm name");if(typeof e.usages!="object")throw new TypeError("Expected input of options.usages to be an Array");o.name=e.name,o.namedCurve=u}else if(r.includes(Ne)){if(e.name=typeof e.name<"u"?e.name:"RSA-OAEP",e.hash=typeof e.hash<"u"?e.hash:"SHA-512",typeof e.name!="string")throw new TypeError("Expected input of options.name to be a String");if(typeof e.hash!="string")throw new TypeError("Expected input of options.hash to be a String");if(e.name==="RSA-OAEP")e.usages=typeof e.usages<"u"?e.usages:["decrypt","unwrapKey"];else if(e.name==="RSA-PSS")e.usages=typeof e.usages<"u"?e.usages:["sign"];else throw new TypeError("Expected input of options.name is not a valid algorithm name");if(typeof e.usages!="object")throw new TypeError("Expected input of options.usages to be an Array");o.name=e.name,o.hash={},o.hash.name=e.hash}else throw new TypeError("Expected input of pem is not a valid private key");w.importKey("pkcs8",s,o,e.isExtractable,e.usages).then(u=>{n(u)}).catch(u=>{i(u)})})}cryptoPublicToPem(a){const e=this;return new Promise((t,n)=>{if(Object.prototype.toString.call(a)!=="[object CryptoKey]"&&a.type!=="public")throw new TypeError("Expected input of publicKey to be a CryptoKey Object of type public");w.exportKey("spki",a).then(i=>{const l=e.arrayBufferToBase64(i);let s=e.addNewLines(l);s=`-----BEGIN PUBLIC KEY-----\r
`+s+"-----END PUBLIC KEY-----",t(s)}).catch(i=>{n(i)})})}pemPublicToCrypto(a,e){const t=this;return typeof e>"u"&&(e={}),e.isExtractable=typeof e.isExtractable<"u"?e.isExtractable:!0,new Promise((n,i)=>{if(typeof a!="string")throw new TypeError("Expected input of pem to be a String");if(typeof e.isExtractable!="boolean")throw new TypeError("Expected input of options.isExtractable to be a Boolean");a=a.replace("-----BEGIN PUBLIC KEY-----",""),a=a.replace("-----END PUBLIC KEY-----","");const l=t.removeLines(a),s=t.base64ToArrayBuffer(l),r=t.arrayBufferToHexString(s),o={};if(r.includes(Ie)){if(e.name=typeof e.name<"u"?e.name:"ECDH",typeof e.name!="string")throw new TypeError("Expected input of options.name to be a String");let u=null;if(r.includes(He)?u="P-256":r.includes(De)?u="P-384":r.includes(je)&&(u="P-521"),e.name==="ECDH")e.usages=typeof e.usages<"u"?e.usages:[];else if(e.name==="ECDSA")e.usages=typeof e.usages<"u"?e.usages:["verify"];else throw new TypeError("Expected input of options.name is not a valid algorithm name");if(typeof e.usages!="object")throw new TypeError("Expected input of options.usages to be an Array");o.name=e.name,o.namedCurve=u}else if(r.includes(Ne)){if(e.name=typeof e.name<"u"?e.name:"RSA-OAEP",e.hash=typeof e.hash<"u"?e.hash:"SHA-512",typeof e.name!="string")throw new TypeError("Expected input of options.name to be a String");if(typeof e.hash!="string")throw new TypeError("Expected input of options.hash to be a String");if(e.name==="RSA-OAEP")e.usages=typeof e.usages<"u"?e.usages:["encrypt","wrapKey"];else if(e.name==="RSA-PSS")e.usages=typeof e.usages<"u"?e.usages:["verify"];else throw new TypeError("Expected input of options.name is not a valid algorithm name");if(typeof e.usages!="object")throw new TypeError("Expected input of options.usages to be an Array");o.name=e.name,o.hash={},o.hash.name=e.hash}else throw new TypeError("Expected input of pem is not a valid public key");w.importKey("spki",s,o,e.isExtractable,e.usages).then(u=>{n(u)}).catch(u=>{i(u)})})}cryptoToBase64(a,e){const t=this;let n=null;switch(a.type){case"secret":n="raw";break;case"private":n="pkcs8";break;case"public":n="spki"}return e=typeof e<"u"?e:n,new Promise((i,l)=>{if(Object.prototype.toString.call(a)!=="[object CryptoKey]")throw new TypeError("Expected input of key to be a CryptoKey Object");if(typeof e!="string")throw new TypeError("Expected input of type to be a String");w.exportKey(n,a).then(s=>{const r=t.arrayBufferToBase64(s);i(r)}).catch(s=>{l(s)})})}base64ToCrypto(a,e){const t=this;return typeof e>"u"&&(e={}),e.name=typeof e.name<"u"?e.name:"AES-GCM",e.isExtractable=typeof e.isExtractable<"u"?e.isExtractable:!0,new Promise((n,i)=>{if(typeof a!="string")throw new TypeError("Expected input of key to be a Base64 String");if(typeof e.name!="string")throw new TypeError("Expected input of options.name to be a String");if(typeof e.isExtractable!="boolean")throw new TypeError("Expected input of options.isExtractable to be a Boolean");const l={};if(l.name=e.name,e.name==="AES-GCM"||e.name==="AES-CBC"){if(e.type=typeof e.type<"u"?e.type:"raw",e.length=typeof e.length<"u"?e.length:256,e.usages=typeof e.usages<"u"?e.usages:["encrypt","decrypt","wrapKey","unwrapKey"],typeof e.length!="number")throw new TypeError("Expected input of options.length to be a Number")}else if(e.name==="ECDH"){if(e.type=typeof e.type<"u"?e.type:"pkcs8",e.namedCurve=typeof e.namedCurve<"u"?e.namedCurve:"P-256",e.usages=typeof e.usages<"u"?e.usages:["deriveKey","deriveBits"],typeof e.namedCurve!="string")throw new TypeError("Expected input of options.namedCurve to be a String");l.namedCurve=e.namedCurve}else if(e.name==="ECDSA"){if(e.type=typeof e.type<"u"?e.type:"pkcs8",e.namedCurve=typeof e.namedCurve<"u"?e.namedCurve:"P-256",e.usages=typeof e.usages<"u"?e.usages:["sign"],typeof e.namedCurve!="string")throw new TypeError("Expected input of options.namedCurve to be a String");l.namedCurve=e.namedCurve}else if(e.name==="RSA-OAEP"){if(e.type=typeof e.type<"u"?e.type:"pkcs8",e.hash=typeof e.hash<"u"?e.hash:"SHA-512",e.usages=typeof e.usages<"u"?e.usages:["decrypt","unwrapKey"],typeof e.hash!="string")throw new TypeError("Expected input of options.hash to be a String");l.hash={},l.hash.name=e.hash}else if(e.name==="RSA-PSS"){if(e.type=typeof e.type<"u"?e.type:"pkcs8",e.hash=typeof e.hash<"u"?e.hash:"SHA-512",e.usages=typeof e.usages<"u"?e.usages:["sign"],typeof e.hash!="string")throw new TypeError("Expected input of options.hash to be a String");l.hash={},l.hash.name=e.hash}else throw new TypeError("Expected input of options.name is not a valid algorithm name");if(typeof e.type!="string")throw new TypeError("Expected input of options.type to be a String");if(typeof e.usages!="object")throw new TypeError("Expected input of options.usages to be an Array");const s=t.base64ToArrayBuffer(a);w.importKey(e.type,s,l,e.isExtractable,e.usages).then(r=>{n(r)}).catch(r=>{i(r)})})}getRSAKeyPair(a,e,t,n,i){return a=typeof a<"u"?a:2048,e=typeof e<"u"?e:"SHA-512",t=typeof t<"u"?t:"RSA-OAEP",i=typeof i<"u"?i:!0,new Promise((l,s)=>{if(typeof a!="number")throw new TypeError("Expected input of modulusLength to be a Number");if(typeof e!="string")throw new TypeError("Expected input of hash expected to be a String");if(typeof t!="string")throw new TypeError("Expected input of paddingScheme to be a String");if(typeof i!="boolean")throw new TypeError("Expected input of isExtractable to be a Boolean");if(t==="RSA-OAEP")n=typeof n<"u"?n:["encrypt","decrypt","wrapKey","unwrapKey"];else if(t==="RSA-PSS")n=typeof n<"u"?n:["sign","verify"];else throw new TypeError("Expected input of paddingScheme is not a valid padding scheme");if(typeof n!="object")throw new TypeError("Expected input of usages to be an Array");w.generateKey({name:t,modulusLength:a,publicExponent:new Uint8Array([1,0,1]),hash:{name:e}},i,n).then(r=>{l(r)}).catch(r=>{s(r)})})}rsaEncrypt(a,e){const t=this;return new Promise((n,i)=>{if(Object.prototype.toString.call(a)!=="[object CryptoKey]"&&a.type!=="public")throw new TypeError("Expected input of publicKey to be a CryptoKey Object of type public");if(typeof e!="object")throw new TypeError("Expected input of data to be an ArrayBuffer");w.encrypt({name:"RSA-OAEP"},a,e).then(l=>{const s=t.arrayBufferToBase64(l);n(s)}).catch(l=>{i(l)})})}rsaDecrypt(a,e){const t=this;return new Promise((n,i)=>{if(Object.prototype.toString.call(a)!=="[object CryptoKey]"&&a.type!=="private")throw new TypeError("Expected input of privateKey to be a CryptoKey Object of type private");if(typeof e!="string")throw new TypeError("Expected input of encryptedData to be a Base64 String");const l=t.base64ToArrayBuffer(e);w.decrypt({name:"RSA-OAEP"},a,l).then(s=>{n(s)}).catch(s=>{i(s)})})}getECKeyPair(a,e,t,n){return a=typeof a<"u"?a:"P-256",e=typeof e<"u"?e:"ECDH",n=typeof n<"u"?n:!0,new Promise((i,l)=>{if(typeof a!="string")throw new TypeError("Expected input of curve to be a String");if(typeof e!="string")throw new TypeError("Expected input of type to be a String");if(typeof n!="boolean")throw new TypeError("Expected input of isExtractable to be a Boolean");if(e==="ECDH")t=typeof t<"u"?t:["deriveKey","deriveBits"];else if(e==="ECDSA")t=typeof t<"u"?t:["sign","verify"];else throw new TypeError("Expected input of type is not a valid algorithm type");if(typeof t!="object")throw new TypeError("Expected input of usages to be an Array");w.generateKey({name:e,namedCurve:a},n,t).then(s=>{i(s)}).catch(s=>{l(s)})})}getPublicKey(a,e){return typeof e>"u"&&(e={}),e.isExtractable=typeof e.isExtractable<"u"?e.isExtractable:!0,new Promise((t,n)=>{if(Object.prototype.toString.call(a)!=="[object CryptoKey]"&&a.type!=="private")throw new TypeError("Expected input of privateKey must be a CryptoKey Object of type private");if(typeof e.isExtractable!="boolean")throw new TypeError("Expected input of options.isExtractable to be a Boolean");w.exportKey("jwk",a).then(i=>{const l={};switch(l.name=a.algorithm.name,a.algorithm.name){case"ECDH":if(delete i.d,i.key_ops=[],e.usages=typeof e.usages<"u"?e.usages:[],typeof e.usages!="object")throw new TypeError("Expected input of options.usages to be an Array");l.namedCurve=a.algorithm.namedCurve;break;case"ECDSA":if(delete i.d,i.key_ops=["verify"],e.usages=typeof e.usages<"u"?e.usages:["verify"],typeof e.usages!="object")throw new TypeError("Expected input of options.usages to be an Array");l.namedCurve=a.algorithm.namedCurve;break;case"RSA-OAEP":if(delete i.d,delete i.dp,delete i.dq,delete i.p,delete i.q,delete i.qi,i.key_ops=["encrypt","wrapKey"],e.usages=typeof e.usages<"u"?e.usages:["encrypt","wrapKey"],typeof e.usages!="object")throw new TypeError("Expected input of options.usages to be an Array");l.hash={},l.hash.name=a.algorithm.hash.name;break;case"RSA-PSS":if(delete i.d,delete i.dp,delete i.dq,delete i.p,delete i.q,delete i.qi,i.key_ops=["verify"],e.usages=typeof e.usages<"u"?e.usages:["verify"],typeof e.usages!="object")throw new TypeError("Expected input of options.usages to be an Array");l.hash={},l.hash.name=a.algorithm.hash.name;break;default:throw new TypeError("Expected input of privateKey is not a valid private key")}w.importKey("jwk",i,l,e.isExtractable,e.usages).then(s=>{t(s)}).catch(s=>{n(s)})}).catch(i=>{n(i)})})}encryptPrivateKey(a,e,t,n,i,l){const s=this;return t=typeof t<"u"?t:64e3,n=typeof n<"u"?n:"SHA-512",i=typeof i<"u"?i:"AES-GCM",l=typeof l<"u"?l:256,new Promise((r,o)=>{if(Object.prototype.toString.call(a)!=="[object CryptoKey]"&&a.type!=="private")throw new TypeError("Expected input of privateKey to be a CryptoKey Object of type private");if(typeof e!="string")throw new TypeError("Expected input of passphrase to be a String");if(typeof t!="number")throw new TypeError("Expected input of iterations to be a Number");if(typeof n!="string")throw new TypeError("Expected input of hash to be a String");if(typeof i!="string")throw new TypeError("Expected input of cipher to be a String");if(typeof l!="number")throw new TypeError("Expected input of length to be a Number");let u=null;switch(i){case"AES-GCM":u=12;break;case"AES-CBC":u=16;break;case"AES-CFB":u=16;break}const c=q.getRandomValues(new Uint8Array(16)),f=q.getRandomValues(new Uint8Array(u)),d=s.stringToArrayBuffer(e);w.importKey("raw",d,{name:"PBKDF2"},!1,["deriveKey"]).then(y=>{w.deriveKey({name:"PBKDF2",salt:c,iterations:t,hash:n},y,{name:i,length:l},!1,["wrapKey"]).then(v=>{w.wrapKey("pkcs8",a,v,{name:i,iv:f,tagLength:128}).then(E=>{const O=s.toAsn1(E,c,f,t,n,i,l);r(O)}).catch(E=>{o(E)})}).catch(v=>{o(v)})}).catch(y=>{o(y)})})}decryptPrivateKey(a,e,t){const n=this;return typeof t>"u"&&(t={}),t.name=typeof t.name<"u"?t.name:"ECDH",t.isExtractable=typeof t.isExtractable<"u"?t.isExtractable:!0,new Promise((i,l)=>{if(typeof a!="string")throw new TypeError("Expected input of encryptedPrivateKey to be a Base64 String");if(typeof e!="string")throw new TypeError("Expected input of passphrase to be a String");if(typeof t.isExtractable!="boolean")throw new TypeError("Expected input of options.isExtractable to be a Boolean");const s=this.fromAsn1(a),r={};if(r.name=t.name,t.name==="ECDH"){if(t.namedCurve=typeof t.namedCurve<"u"?t.namedCurve:"P-256",t.usages=typeof t.usages<"u"?t.usages:["deriveKey","deriveBits"],typeof t.namedCurve!="string")throw new TypeError("Expected input of options.namedCurve to be a String");if(typeof t.usages!="object")throw new TypeError("Expected input of options.usages to be an Array");r.namedCurve=t.namedCurve}else if(t.name==="ECDSA"){if(t.namedCurve=typeof t.namedCurve<"u"?t.namedCurve:"P-256",t.usages=typeof t.usages<"u"?t.usages:["sign"],typeof t.namedCurve!="string")throw new TypeError("Expected input of options.namedCurve to be a String");if(typeof t.usages!="object")throw new TypeError("Expected input of options.usages to be an Array");r.namedCurve=t.namedCurve}else if(t.name==="RSA-OAEP"){if(t.hash=typeof t.hash<"u"?t.hash:"SHA-512",t.usages=typeof t.usages<"u"?t.usages:["decrypt","unwrapKey"],typeof t.hash!="string")throw new TypeError("Expected input of options.hash to be a String");if(typeof t.usages!="object")throw new TypeError("Expected input of options.usages to be an Array");r.hash={},r.hash.name=t.hash}else if(t.name==="RSA-PSS"){if(t.hash=typeof t.hash<"u"?t.hash:"SHA-512",t.usages=typeof t.usages<"u"?t.usages:["sign"],typeof t.hash!="string")throw new TypeError("Expected input of options.hash to be a String");if(typeof t.usages!="object")throw new TypeError("Expected input of options.usages to be an Array");r.hash={},r.hash.name=t.hash}else throw new TypeError("Expected input of encryptedPrivateKey is not a valid encrypted private key");const o=n.stringToArrayBuffer(e);w.importKey("raw",o,{name:"PBKDF2"},!1,["deriveKey"]).then(u=>{w.deriveKey({name:"PBKDF2",salt:s.salt,iterations:s.iter,hash:s.hash},u,{name:s.cipher,length:s.length},!1,["unwrapKey"]).then(c=>{w.unwrapKey("pkcs8",s.encryptedData,c,{name:s.cipher,iv:s.iv,tagLength:128},r,t.isExtractable,t.usages).then(f=>{i(f)}).catch(f=>{l(f)})}).catch(c=>{l(c)})}).catch(u=>{l(u)})})}keyAgreement(a,e,t){return typeof t>"u"&&(t={}),t.bitLength=typeof t.bitLength<"u"?t.bitLength:256,t.hkdfHash=typeof t.hkdfHash<"u"?t.hkdfHash:"SHA-512",t.hkdfSalt=typeof t.hkdfSalt<"u"?t.hkdfSalt:new Uint8Array,t.hkdfInfo=typeof t.hkdfInfo<"u"?t.hkdfInfo:new Uint8Array,t.cipher=typeof t.cipher<"u"?t.cipher:"AES-GCM",t.length=typeof t.length<"u"?t.length:256,t.usages=typeof t.usages<"u"?t.usages:["encrypt","decrypt","unwrapKey","wrapKey"],t.isExtractable=typeof t.isExtractable<"u"?t.isExtractable:!0,new Promise((n,i)=>{if(Object.prototype.toString.call(a)!=="[object CryptoKey]"&&a.type!=="private")throw new TypeError("Expected input of privateKey to be a CryptoKey Object of type private");if(Object.prototype.toString.call(e)!=="[object CryptoKey]"&&e.type!=="public")throw new TypeError("Expected input of publicKey to be a CryptoKey Object of type public");if(typeof t.bitLength!="number")throw new TypeError("Expected input of options.bitLength to be a Number");if(typeof t.hkdfHash!="string")throw new TypeError("Expected input of options.hkdfHash to be a String");if(typeof t.hkdfSalt!="object")throw new TypeError("Expected input of options.hkdfSalt to be an ArrayBuffer");if(typeof t.hkdfInfo!="object")throw new TypeError("Expected input of options.hkdfInfo to be an ArrayBuffer");if(typeof t.cipher!="string")throw new TypeError("Expected input of options.cipher to be a String");if(typeof t.length!="number")throw new TypeError("Expected input of options.length to be a Number");if(typeof t.usages!="object")throw new TypeError("Expected input of options.usages to be an Array");if(typeof t.isExtractable!="boolean")throw new TypeError("Expected input of options.isExtractable to be a Boolean");w.deriveBits({name:"ECDH",namedCurve:e.algorithm.namedCurve,public:e},a,t.bitLength).then(l=>{w.importKey("raw",l,{name:"HKDF"},!1,["deriveKey"]).then(s=>{w.deriveKey({name:"HKDF",hash:{name:t.hkdfHash},salt:t.hkdfSalt,info:t.hkdfInfo},s,{name:t.cipher,length:t.length},t.isExtractable,t.usages).then(r=>{n(r)}).catch(r=>{i(r)})}).catch(s=>{i(s)})}).catch(l=>{i(l)})})}getSharedKey(a,e){return a=typeof a<"u"?a:256,typeof e>"u"&&(e={}),e.cipher=typeof e.cipher<"u"?e.cipher:"AES-GCM",e.usages=typeof e.usages<"u"?e.usages:["encrypt","decrypt","wrapKey","unwrapKey"],e.isExtractable=typeof e.isExtractable<"u"?e.isExtractable:!0,new Promise((t,n)=>{if(typeof a!="number")throw new TypeError("Expected input of length to be a Number");if(typeof e.cipher!="string")throw new TypeError("Expected input of options.cipher expected to be a String");if(typeof e.usages!="object")throw new TypeError("Expected input of options.usages to be an Array");if(typeof e.isExtractable!="boolean")throw new TypeError("Expected input of options.isExtractable expected to be a Boolean");w.generateKey({name:e.cipher,length:a},e.isExtractable,e.usages).then(i=>{t(i)}).catch(i=>{n(i)})})}encryptKey(a,e){const t=this;return new Promise((n,i)=>{if(Object.prototype.toString.call(a)!=="[object CryptoKey]")throw new TypeError("Expected input of wrappingKey to be a CryptoKey Object");if(Object.prototype.toString.call(e)!=="[object CryptoKey]")throw new TypeError("Expected input of key to be a CryptoKey Object");let l=null;switch(e.type){case"secret":l="raw";break;case"private":l="pkcs8";break;case"public":l="spki"}if(a.type==="secret"){let s=null;if(a.algorithm.name==="AES-GCM")s=q.getRandomValues(new Uint8Array(12));else if(a.algorithm.name==="AES-CBC")s=q.getRandomValues(new Uint8Array(16));else throw new TypeError("Cipher mode of the wrappingKey is not supported");w.wrapKey(l,e,a,{name:a.algorithm.name,iv:s,tagLength:128}).then(r=>{const o=t.arrayBufferToBase64(s)+t.arrayBufferToBase64(r);n(o)}).catch(r=>{i(r)})}else if(a.algorithm.name==="RSA-OAEP"){if(a.type!=="public")throw new TypeError("Expected input of wrappingKey to be a CryptoKey Object of type public");w.wrapKey(l,e,a,{name:"RSA-OAEP",hash:{name:a.algorithm.hash.name}}).then(s=>{const r=t.arrayBufferToBase64(s);n(r)}).catch(s=>{i(s)})}else throw new TypeError("Expected input of wrappingKey is not a supported key")})}decryptKey(a,e,t){const n=this;return typeof t>"u"&&(t={}),t.name=typeof t.name<"u"?t.name:"AES-GCM",t.isExtractable=typeof t.isExtractable<"u"?t.isExtractable:!0,new Promise((i,l)=>{if(Object.prototype.toString.call(a)!=="[object CryptoKey]")throw new TypeError("Expected input of unwrappingKey to be a CryptoKey Object");if(typeof e!="string")throw new TypeError("Expected input of encryptedKey to be a Base64 String");if(typeof t.name!="string")throw new TypeError("Expected input of options.name to be a String");if(typeof t.isExtractable!="boolean")throw new TypeError("Expected input of options.isExtractable to be a Boolean");const s={};if(s.name=t.name,t.name==="AES-GCM"||t.name==="AES-CBC"){if(t.type=typeof t.type<"u"?t.type:"raw",t.length=typeof t.length<"u"?t.length:256,t.usages=typeof t.usages<"u"?t.usages:["encrypt","decrypt","wrapKey","unwrapKey"],typeof t.length!="number")throw new TypeError("Expected input of options.length to be a Number")}else if(t.name==="ECDH"){if(t.type=typeof t.type<"u"?t.type:"pkcs8",t.namedCurve=typeof t.namedCurve<"u"?t.namedCurve:"P-256",t.usages=typeof t.usages<"u"?t.usages:["deriveKey","deriveBits"],typeof t.namedCurve!="string")throw new TypeError("Expected input of options.namedCurve to be a String");s.namedCurve=t.namedCurve}else if(t.name==="ECDSA"){if(t.type=typeof t.type<"u"?t.type:"pkcs8",t.namedCurve=typeof t.namedCurve<"u"?t.namedCurve:"P-256",t.usages=typeof t.usages<"u"?t.usages:["sign"],typeof t.namedCurve!="string")throw new TypeError("Expected input of options.namedCurve to be a String");s.namedCurve=t.namedCurve}else if(t.name==="RSA-OAEP"){if(t.type=typeof t.type<"u"?t.type:"pkcs8",t.hash=typeof t.hash<"u"?t.hash:"SHA-512",t.usages=typeof t.usages<"u"?t.usages:["decrypt","unwrapKey"],typeof t.hash!="string")throw new TypeError("Expected input of options.hash to be a String");s.hash={},s.hash.name=t.hash}else if(t.name==="RSA-PSS"){if(t.type=typeof t.type<"u"?t.type:"pkcs8",t.hash=typeof t.hash<"u"?t.hash:"SHA-512",t.usages=typeof t.usages<"u"?t.usages:["sign"],typeof t.hash!="string")throw new TypeError("Expected input of options.hash to be a String");s.hash={},s.hash.name=t.hash}else throw new TypeError("Expected input of options.name is not a valid algorithm name");if(typeof t.type!="string")throw new TypeError("Expected input of options.type to be a String");if(typeof t.usages!="object")throw new TypeError("Expected input of options.usages to be an Array");if(a.type==="secret"){let r=null,o=null;if(a.algorithm.name==="AES-GCM")r=e.substring(0,16),o=e.substring(16);else if(a.algorithm.name==="AES-CBC")r=e.substring(0,24),o=e.substring(24);else throw new TypeError("Cipher mode of the wrappingKey is not supported");const u=n.base64ToArrayBuffer(r),c=n.base64ToArrayBuffer(o);w.unwrapKey(t.type,c,a,{name:a.algorithm.name,iv:u,tagLength:128},s,t.isExtractable,t.usages).then(f=>{i(f)}).catch(f=>{l(f)})}else if(a.algorithm.name==="RSA-OAEP"){if(a.type!=="private")throw new TypeError("Expected input of unwrappingKey to be a CryptoKey Object of type private");const r=n.base64ToArrayBuffer(e);w.unwrapKey(t.type,r,a,{name:"RSA-OAEP",modulusLength:a.algorithm.modulusLength,publicExponent:new Uint8Array([1,0,1]),hash:{name:a.algorithm.hash.name}},s,t.isExtractable,t.usages).then(o=>{i(o)}).catch(o=>{l(o)})}else throw new TypeError("Expected input of unwrappingKey is not a supported key")})}signKey(a,e,t){const n=this;return typeof t>"u"&&(t={}),new Promise((i,l)=>{if(Object.prototype.toString.call(a)!=="[object CryptoKey]"&&a.type!=="private")throw new TypeError("Expected input of privateKey to be a CryptoKey Object of type private");if(Object.prototype.toString.call(e)!=="[object CryptoKey]")throw new TypeError("Expected input of key to be a CryptoKey Object");w.exportKey("raw",e).then(s=>{if(a.algorithm.name==="ECDSA"){if(t.hash=typeof t.hash<"u"?t.hash:"SHA-512",typeof t.hash!="string")throw new TypeError("Expected input of options.hash to be a String");w.sign({name:"ECDSA",hash:{name:t.hash}},a,s).then(r=>{const o=n.arrayBufferToBase64(r);i(o)}).catch(r=>{l(r)})}else if(a.algorithm.name==="RSA-PSS"){if(t.saltLength=typeof t.saltLength<"u"?t.saltLength:128,typeof t.saltLength!="number")throw new TypeError("Expected input of options.saltLength to be a Number");w.sign({name:"RSA-PSS",saltLength:t.saltLength},a,s).then(r=>{const o=n.arrayBufferToBase64(r);i(o)}).catch(r=>{l(r)})}else throw new TypeError("Expected input of privateKey is not a valid private key")}).catch(s=>{l(s)})})}verifyKey(a,e,t,n){const i=this;return typeof n>"u"&&(n={}),new Promise((l,s)=>{if(Object.prototype.toString.call(a)!=="[object CryptoKey]"&&a.type!=="public")throw new TypeError("Expected input of publicKey to be a CryptoKey Object of type public");if(Object.prototype.toString.call(e)!=="[object CryptoKey]")throw new TypeError("Expected input of key to be a CryptoKey Object");if(typeof t!="string")throw new TypeError("Expected input of signature to be a Base64 String");const r=i.base64ToArrayBuffer(t);w.exportKey("raw",e).then(o=>{if(a.algorithm.name==="ECDSA"){if(n.hash=typeof n.hash<"u"?n.hash:"SHA-512",typeof n.hash!="string")throw new TypeError("Expected input of options.hash to be a String");w.verify({name:"ECDSA",hash:{name:n.hash}},a,r,o).then(u=>{l(u)}).catch(u=>{s(u)})}else if(a.algorithm.name==="RSA-PSS")w.verify({name:"RSA-PSS",saltLength:128},a,r,o).then(u=>{l(u)}).catch(u=>{s(u)});else throw new TypeError("Expected input of publicKey is not a valid public key")}).catch(o=>{s(o)})})}sign(a,e,t){const n=this;return typeof t>"u"&&(t={}),new Promise((i,l)=>{if(Object.prototype.toString.call(a)!=="[object CryptoKey]"&&a.type!=="private")throw new TypeError("Expected input of privateKey to be a CryptoKey Object of type private");if(typeof e!="object")throw new TypeError("Expected input of data to be an ArrayBuffer");if(a.algorithm.name==="ECDSA"){if(t.hash=typeof t.hash<"u"?t.hash:"SHA-512",typeof t.hash!="string")throw new TypeError("Expected input of options.hash to be a String");w.sign({name:"ECDSA",hash:{name:t.hash}},a,e).then(s=>{const r=n.arrayBufferToBase64(s);i(r)}).catch(s=>{l(s)})}else if(a.algorithm.name==="RSA-PSS"){if(t.saltLength=typeof t.saltLength<"u"?t.saltLength:128,typeof t.saltLength!="number")throw new TypeError("Expected input of options.saltLength to be a Number");w.sign({name:"RSA-PSS",saltLength:t.saltLength},a,e).then(s=>{const r=n.arrayBufferToBase64(s);i(r)}).catch(s=>{l(s)})}else throw new TypeError("Expected input of privateKey is not a valid private key")})}verify(a,e,t,n){const i=this;return typeof n>"u"&&(n={}),new Promise((l,s)=>{if(Object.prototype.toString.call(a)!=="[object CryptoKey]"&&a.type!=="public")throw new TypeError("Expected input of publicKey to be a CryptoKey Object of type public");if(typeof e!="object")throw new TypeError("Expected input of data to be an ArrayBuffer");if(typeof t!="string")throw new TypeError("Expected input of signature to be a Base64 String");const r=i.base64ToArrayBuffer(t);if(a.algorithm.name==="ECDSA"){if(n.hash=typeof n.hash<"u"?n.hash:"SHA-512",typeof n.hash!="string")throw new TypeError("Expected input of options.hash to be a String");w.verify({name:"ECDSA",hash:{name:n.hash}},a,r,e).then(o=>{l(o)}).catch(o=>{s(o)})}else if(a.algorithm.name==="RSA-PSS")w.verify({name:"RSA-PSS",saltLength:128},a,r,e).then(o=>{l(o)}).catch(o=>{s(o)});else throw new TypeError("Expected input of publicKey is not a valid public key")})}encrypt(a,e){const t=this;return new Promise((n,i)=>{if(Object.prototype.toString.call(a)!=="[object CryptoKey]"&&a.type!=="secret")throw new TypeError("Expected input of sharedKey to be a CryptoKey Object");if(typeof e!="object")throw new TypeError("Expected input of data to be an ArrayBuffer");let l=null;if(a.algorithm.name==="AES-GCM")l=q.getRandomValues(new Uint8Array(12));else if(a.algorithm.name==="AES-CBC")l=q.getRandomValues(new Uint8Array(16));else throw new TypeError("Cipher mode of the sharedKey is not supported");w.encrypt({name:a.algorithm.name,iv:l,tagLength:128},a,e).then(s=>{const r=t.arrayBufferToBase64(l),o=t.arrayBufferToBase64(s);n(r+o)}).catch(s=>{i(s)})})}decrypt(a,e,t){const n=this;return typeof t>"u"&&(t={}),t.cipher=typeof t.cipher<"u"?t.cipher:"AES-GCM",new Promise((i,l)=>{if(Object.prototype.toString.call(a)!=="[object CryptoKey]"&&a.type!=="secret")throw new TypeError("Expected input of sharedKey to be a CryptoKey Object");if(typeof e!="string")throw new TypeError("Expected input of encryptedData to be a String");if(typeof t.cipher!="string")throw new TypeError("Expected input of options.cipher to be a String");let s=null,r=null;if(t.cipher==="AES-GCM")s=e.substring(0,16),r=e.substring(16);else if(t.cipher==="AES-CBC")s=e.substring(0,24),r=e.substring(24);else throw new TypeError("Cipher mode of the sharedKey is not supported");const o=n.base64ToArrayBuffer(s),u=n.base64ToArrayBuffer(r);w.decrypt({name:t.cipher,iv:o,tagLength:128},a,u).then(c=>{i(c)}).catch(c=>{l(c)})})}derivePassphraseKey(a,e,t,n){const i=this;return t=typeof t<"u"?t:64e3,typeof n>"u"&&(n={}),n.hash=typeof n.hash<"u"?n.hash:"SHA-512",n.length=typeof n.length<"u"?n.length:256,n.cipher=typeof n.cipher<"u"?n.cipher:"AES-GCM",n.usages=typeof n.usages<"u"?n.usages:["encrypt","decrypt","wrapKey","unwrapKey"],n.isExtractable=typeof n.isExtractable<"u"?n.isExtractable:!0,new Promise((l,s)=>{if(typeof a!="string")throw new TypeError("Expected input of passphrase to be a String");if(typeof e!="object")throw new TypeError("Expected input of salt to be an ArrayBuffer");if(typeof t!="number")throw new TypeError("Expected input of iterations to be a Number");if(typeof n.hash!="string")throw new TypeError("Expected input of options.hash to be a String");if(typeof n.length!="number")throw new TypeError("Expected input of options.length to be a Number");if(typeof n.cipher!="string")throw new TypeError("Expected input of options.cipher to be a String");if(typeof n.usages!="object")throw new TypeError("Expected input of options.usages to be an Array");if(typeof n.isExtractable!="boolean")throw new TypeError("Expected input of options.isExtractable to be a Boolean");const r=i.stringToArrayBuffer(a);w.importKey("raw",r,{name:"PBKDF2"},!1,["deriveKey"]).then(o=>{w.deriveKey({name:"PBKDF2",salt:e,iterations:t,hash:{name:n.hash}},o,{name:n.cipher,length:n.length},n.isExtractable,n.usages).then(u=>{l(u)}).catch(u=>{s(u)})}).catch(o=>{s(o)})})}hashPassphrase(a,e,t,n){const i=this;return t=typeof t<"u"?t:64e3,typeof n>"u"&&(n={}),n.hash=typeof n.hash<"u"?n.hash:"SHA-512",n.length=typeof n.length<"u"?n.length:256,n.cipher=typeof n.cipher<"u"?n.cipher:"AES-GCM",n.usages=typeof n.usages<"u"?n.usages:["encrypt","decrypt","wrapKey","unwrapKey"],n.isExtractable=typeof n.isExtractable<"u"?n.isExtractable:!0,new Promise((l,s)=>{if(typeof a!="string")throw new TypeError("Expected input of passphrase to be a String");if(typeof e!="object")throw new TypeError("Expected input of salt to be an ArrayBuffer");if(typeof t!="number")throw new TypeError("Expected input of iterations to be a Number");if(typeof n.hash!="string")throw new TypeError("Expected input of options.hash to be a String");if(typeof n.length!="number")throw new TypeError("Expected input of options.length to be a Number");if(typeof n.cipher!="string")throw new TypeError("Expected input of options.cipher to be a String");if(typeof n.usages!="object")throw new TypeError("Expected input of options.usages to be an Array");if(typeof n.isExtractable!="boolean")throw new TypeError("Expected input of options.isExtractable to be a Boolean");i.derivePassphraseKey(a,e,t,n).then(r=>{w.exportKey("raw",r).then(o=>{const u=i.arrayBufferToHexString(o);l(u)}).catch(o=>{s(o)})}).catch(r=>{s(r)})})}getFingerprint(a,e){const t=this;return typeof e>"u"&&(e={}),e.hash=typeof hash<"u"?hash:"SHA-512",e.isBuffer=typeof e.isBuffer<"u"?e.isBuffer:!1,new Promise((n,i)=>{if(Object.prototype.toString.call(a)!=="[object CryptoKey]")throw new TypeError("Expected input of key to be a CryptoKey Object");if(typeof e.hash!="string")throw new TypeError("Expected input of options.hash to be a String");if(typeof e.isBuffer!="boolean")throw new TypeError("Expected input of options.isBuffer to be a Boolean");let l=null;switch(a.type){case"secret":l="raw";break;case"private":l="pkcs8";break;case"public":l="spki"}w.exportKey(l,a).then(s=>{w.digest({name:e.hash},s).then(r=>{if(e.isBuffer)n(r);else{const o=t.arrayBufferToHexString(r);n(o)}}).catch(r=>{i(r)})}).catch(s=>{i(s)})})}getRandomBytes(a){return a=typeof a<"u"?a:16,new Promise((e,t)=>{if(typeof a!="number")throw new TypeError("Expected input of size to be a Number");const n=q.getRandomValues(new Uint8Array(a));e(n)})}}var ee={exports:{}},tt=ee.exports,Re;function rt(){return Re||(Re=1,function(h){(function(a,e,t){function n(r){var o=this,u=s();o.next=function(){var c=2091639*o.s0+o.c*23283064365386963e-26;return o.s0=o.s1,o.s1=o.s2,o.s2=c-(o.c=c|0)},o.c=1,o.s0=u(" "),o.s1=u(" "),o.s2=u(" "),o.s0-=u(r),o.s0<0&&(o.s0+=1),o.s1-=u(r),o.s1<0&&(o.s1+=1),o.s2-=u(r),o.s2<0&&(o.s2+=1),u=null}function i(r,o){return o.c=r.c,o.s0=r.s0,o.s1=r.s1,o.s2=r.s2,o}function l(r,o){var u=new n(r),c=o&&o.state,f=u.next;return f.int32=function(){return u.next()*4294967296|0},f.double=function(){return f()+(f()*2097152|0)*11102230246251565e-32},f.quick=f,c&&(typeof c=="object"&&i(c,u),f.state=function(){return i(u,{})}),f}function s(){var r=4022871197,o=function(u){u=String(u);for(var c=0;c<u.length;c++){r+=u.charCodeAt(c);var f=.02519603282416938*r;r=f>>>0,f-=r,f*=r,r=f>>>0,f-=r,r+=f*4294967296}return(r>>>0)*23283064365386963e-26};return o}e&&e.exports?e.exports=l:this.alea=l})(tt,h)}(ee)),ee.exports}var te={exports:{}},at=te.exports,Ke;function nt(){return Ke||(Ke=1,function(h){(function(a,e,t){function n(s){var r=this,o="";r.x=0,r.y=0,r.z=0,r.w=0,r.next=function(){var c=r.x^r.x<<11;return r.x=r.y,r.y=r.z,r.z=r.w,r.w^=r.w>>>19^c^c>>>8},s===(s|0)?r.x=s:o+=s;for(var u=0;u<o.length+64;u++)r.x^=o.charCodeAt(u)|0,r.next()}function i(s,r){return r.x=s.x,r.y=s.y,r.z=s.z,r.w=s.w,r}function l(s,r){var o=new n(s),u=r&&r.state,c=function(){return(o.next()>>>0)/4294967296};return c.double=function(){do var f=o.next()>>>11,d=(o.next()>>>0)/4294967296,y=(f+d)/(1<<21);while(y===0);return y},c.int32=o.next,c.quick=c,u&&(typeof u=="object"&&i(u,o),c.state=function(){return i(o,{})}),c}e&&e.exports?e.exports=l:this.xor128=l})(at,h)}(te)),te.exports}var re={exports:{}},st=re.exports,Le;function ot(){return Le||(Le=1,function(h){(function(a,e,t){function n(s){var r=this,o="";r.next=function(){var c=r.x^r.x>>>2;return r.x=r.y,r.y=r.z,r.z=r.w,r.w=r.v,(r.d=r.d+362437|0)+(r.v=r.v^r.v<<4^(c^c<<1))|0},r.x=0,r.y=0,r.z=0,r.w=0,r.v=0,s===(s|0)?r.x=s:o+=s;for(var u=0;u<o.length+64;u++)r.x^=o.charCodeAt(u)|0,u==o.length&&(r.d=r.x<<10^r.x>>>4),r.next()}function i(s,r){return r.x=s.x,r.y=s.y,r.z=s.z,r.w=s.w,r.v=s.v,r.d=s.d,r}function l(s,r){var o=new n(s),u=r&&r.state,c=function(){return(o.next()>>>0)/4294967296};return c.double=function(){do var f=o.next()>>>11,d=(o.next()>>>0)/4294967296,y=(f+d)/(1<<21);while(y===0);return y},c.int32=o.next,c.quick=c,u&&(typeof u=="object"&&i(u,o),c.state=function(){return i(o,{})}),c}e&&e.exports?e.exports=l:this.xorwow=l})(st,h)}(re)),re.exports}var ae={exports:{}},it=ae.exports,$e;function lt(){return $e||($e=1,function(h){(function(a,e,t){function n(s){var r=this;r.next=function(){var u=r.x,c=r.i,f,d;return f=u[c],f^=f>>>7,d=f^f<<24,f=u[c+1&7],d^=f^f>>>10,f=u[c+3&7],d^=f^f>>>3,f=u[c+4&7],d^=f^f<<7,f=u[c+7&7],f=f^f<<13,d^=f^f<<9,u[c]=d,r.i=c+1&7,d};function o(u,c){var f,d=[];if(c===(c|0))d[0]=c;else for(c=""+c,f=0;f<c.length;++f)d[f&7]=d[f&7]<<15^c.charCodeAt(f)+d[f+1&7]<<13;for(;d.length<8;)d.push(0);for(f=0;f<8&&d[f]===0;++f);for(f==8?d[7]=-1:d[f],u.x=d,u.i=0,f=256;f>0;--f)u.next()}o(r,s)}function i(s,r){return r.x=s.x.slice(),r.i=s.i,r}function l(s,r){s==null&&(s=+new Date);var o=new n(s),u=r&&r.state,c=function(){return(o.next()>>>0)/4294967296};return c.double=function(){do var f=o.next()>>>11,d=(o.next()>>>0)/4294967296,y=(f+d)/(1<<21);while(y===0);return y},c.int32=o.next,c.quick=c,u&&(u.x&&i(u,o),c.state=function(){return i(o,{})}),c}e&&e.exports?e.exports=l:this.xorshift7=l})(it,h)}(ae)),ae.exports}var ne={exports:{}},ut=ne.exports,Ue;function ct(){return Ue||(Ue=1,function(h){(function(a,e,t){function n(s){var r=this;r.next=function(){var u=r.w,c=r.X,f=r.i,d,y;return r.w=u=u+1640531527|0,y=c[f+34&127],d=c[f=f+1&127],y^=y<<13,d^=d<<17,y^=y>>>15,d^=d>>>12,y=c[f]=y^d,r.i=f,y+(u^u>>>16)|0};function o(u,c){var f,d,y,v,E,O=[],U=128;for(c===(c|0)?(d=c,c=null):(c=c+"\0",d=0,U=Math.max(U,c.length)),y=0,v=-32;v<U;++v)c&&(d^=c.charCodeAt((v+32)%c.length)),v===0&&(E=d),d^=d<<10,d^=d>>>15,d^=d<<4,d^=d>>>13,v>=0&&(E=E+1640531527|0,f=O[v&127]^=d+E,y=f==0?y+1:0);for(y>=128&&(O[(c&&c.length||0)&127]=-1),y=127,v=4*128;v>0;--v)d=O[y+34&127],f=O[y=y+1&127],d^=d<<13,f^=f<<17,d^=d>>>15,f^=f>>>12,O[y]=d^f;u.w=E,u.X=O,u.i=y}o(r,s)}function i(s,r){return r.i=s.i,r.w=s.w,r.X=s.X.slice(),r}function l(s,r){s==null&&(s=+new Date);var o=new n(s),u=r&&r.state,c=function(){return(o.next()>>>0)/4294967296};return c.double=function(){do var f=o.next()>>>11,d=(o.next()>>>0)/4294967296,y=(f+d)/(1<<21);while(y===0);return y},c.int32=o.next,c.quick=c,u&&(u.X&&i(u,o),c.state=function(){return i(o,{})}),c}e&&e.exports?e.exports=l:this.xor4096=l})(ut,h)}(ne)),ne.exports}var se={exports:{}},ft=se.exports,qe;function dt(){return qe||(qe=1,function(h){(function(a,e,t){function n(s){var r=this,o="";r.next=function(){var c=r.b,f=r.c,d=r.d,y=r.a;return c=c<<25^c>>>7^f,f=f-d|0,d=d<<24^d>>>8^y,y=y-c|0,r.b=c=c<<20^c>>>12^f,r.c=f=f-d|0,r.d=d<<16^f>>>16^y,r.a=y-c|0},r.a=0,r.b=0,r.c=-1640531527,r.d=1367130551,s===Math.floor(s)?(r.a=s/4294967296|0,r.b=s|0):o+=s;for(var u=0;u<o.length+20;u++)r.b^=o.charCodeAt(u)|0,r.next()}function i(s,r){return r.a=s.a,r.b=s.b,r.c=s.c,r.d=s.d,r}function l(s,r){var o=new n(s),u=r&&r.state,c=function(){return(o.next()>>>0)/4294967296};return c.double=function(){do var f=o.next()>>>11,d=(o.next()>>>0)/4294967296,y=(f+d)/(1<<21);while(y===0);return y},c.int32=o.next,c.quick=c,u&&(typeof u=="object"&&i(u,o),c.state=function(){return i(o,{})}),c}e&&e.exports?e.exports=l:this.tychei=l})(ft,h)}(se)),se.exports}var oe={exports:{}},pt=oe.exports,Me;function ht(){return Me||(Me=1,function(h){(function(a,e,t){var n=256,i=6,l=52,s="random",r=t.pow(n,i),o=t.pow(2,l),u=o*2,c=n-1,f;function d(p,b,T){var A=[];b=b==!0?{entropy:!0}:b||{};var S=O(E(b.entropy?[p,g(e)]:p??U(),3),A),k=new y(A),_=function(){for(var N=k.g(i),H=r,L=0;N<o;)N=(N+L)*n,H*=n,L=k.g(1);for(;N>=u;)N/=2,H/=2,L>>>=1;return(N+L)/H};return _.int32=function(){return k.g(4)|0},_.quick=function(){return k.g(4)/4294967296},_.double=_,O(g(k.S),e),(b.pass||T||function(N,H,L,D){return D&&(D.S&&v(D,k),N.state=function(){return v(k,{})}),L?(t[s]=N,H):N})(_,S,"global"in b?b.global:this==t,b.state)}function y(p){var b,T=p.length,A=this,S=0,k=A.i=A.j=0,_=A.S=[];for(T||(p=[T++]);S<n;)_[S]=S++;for(S=0;S<n;S++)_[S]=_[k=c&k+p[S%T]+(b=_[S])],_[k]=b;(A.g=function(N){for(var H,L=0,D=A.i,J=A.j,Y=A.S;N--;)H=Y[D=c&D+1],L=L*n+Y[c&(Y[D]=Y[J=c&J+H])+(Y[J]=H)];return A.i=D,A.j=J,L})(n)}function v(p,b){return b.i=p.i,b.j=p.j,b.S=p.S.slice(),b}function E(p,b){var T=[],A=typeof p,S;if(b&&A=="object")for(S in p)try{T.push(E(p[S],b-1))}catch{}return T.length?T:A=="string"?p:p+"\0"}function O(p,b){for(var T=p+"",A,S=0;S<T.length;)b[c&S]=c&(A^=b[c&S]*19)+T.charCodeAt(S++);return g(b)}function U(){try{var p;return f&&(p=f.randomBytes)?p=p(n):(p=new Uint8Array(n),(a.crypto||a.msCrypto).getRandomValues(p)),g(p)}catch{var b=a.navigator,T=b&&b.plugins;return[+new Date,a,T,a.screen,g(e)]}}function g(p){return String.fromCharCode.apply(0,p)}if(O(t.random(),e),h.exports){h.exports=d;try{f=ze}catch{}}else t["seed"+s]=d})(typeof self<"u"?self:pt,[],Math)}(oe)),oe.exports}var Se,Ve;function yt(){if(Ve)return Se;Ve=1;var h=rt(),a=nt(),e=ot(),t=lt(),n=ct(),i=dt(),l=ht();return l.alea=h,l.xor128=a,l.xorwow=e,l.xorshift7=t,l.xor4096=n,l.tychei=i,Se=l,Se}var gt=yt();const mt=Ye(gt),le=["ability","able","aboard","about","above","accept","accident","according","account","accurate","acres","across","act","action","active","activity","actual","actually","add","addition","additional","adjective","adult","adventure","advice","affect","afraid","after","afternoon","again","against","age","ago","agree","ahead","aid","air","airplane","alike","alive","all","allow","almost","alone","along","aloud","alphabet","already","also","although","am","among","amount","ancient","angle","angry","animal","announced","another","answer","ants","any","anybody","anyone","anything","anyway","anywhere","apart","apartment","appearance","apple","applied","appropriate","are","area","arm","army","around","arrange","arrangement","arrive","arrow","art","article","as","aside","ask","asleep","at","ate","atmosphere","atom","atomic","attached","attack","attempt","attention","audience","author","automobile","available","average","avoid","aware","away","baby","back","bad","badly","bag","balance","ball","balloon","band","bank","bar","bare","bark","barn","base","baseball","basic","basis","basket","bat","battle","be","bean","bear","beat","beautiful","beauty","became","because","become","becoming","bee","been","before","began","beginning","begun","behavior","behind","being","believed","bell","belong","below","belt","bend","beneath","bent","beside","best","bet","better","between","beyond","bicycle","bigger","biggest","bill","birds","birth","birthday","bit","bite","black","blank","blanket","blew","blind","block","blood","blow","blue","board","boat","body","bone","book","border","born","both","bottle","bottom","bound","bow","bowl","box","boy","brain","branch","brass","brave","bread","break","breakfast","breath","breathe","breathing","breeze","brick","bridge","brief","bright","bring","broad","broke","broken","brother","brought","brown","brush","buffalo","build","building","built","buried","burn","burst","bus","bush","business","busy","but","butter","buy","by","cabin","cage","cake","call","calm","came","camera","camp","can","canal","cannot","cap","capital","captain","captured","car","carbon","card","care","careful","carefully","carried","carry","case","cast","castle","cat","catch","cattle","caught","cause","cave","cell","cent","center","central","century","certain","certainly","chain","chair","chamber","chance","change","changing","chapter","character","characteristic","charge","chart","check","cheese","chemical","chest","chicken","chief","child","children","choice","choose","chose","chosen","church","circle","circus","citizen","city","class","classroom","claws","clay","clean","clear","clearly","climate","climb","clock","close","closely","closer","cloth","clothes","clothing","cloud","club","coach","coal","coast","coat","coffee","cold","collect","college","colony","color","column","combination","combine","come","comfortable","coming","command","common","community","company","compare","compass","complete","completely","complex","composed","composition","compound","concerned","condition","congress","connected","consider","consist","consonant","constantly","construction","contain","continent","continued","contrast","control","conversation","cook","cookies","cool","copper","copy","corn","corner","correct","correctly","cost","cotton","could","count","country","couple","courage","course","court","cover","cow","cowboy","crack","cream","create","creature","crew","crop","cross","crowd","cry","cup","curious","current","curve","customs","cut","cutting","daily","damage","dance","danger","dangerous","dark","darkness","date","daughter","dawn","day","dead","deal","dear","death","decide","declared","deep","deeply","deer","definition","degree","depend","depth","describe","desert","design","desk","detail","determine","develop","development","diagram","diameter","did","die","differ","difference","different","difficult","difficulty","dig","dinner","direct","direction","directly","dirt","dirty","disappear","discover","discovery","discuss","discussion","disease","dish","distance","distant","divide","division","do","doctor","does","dog","doing","doll","dollar","done","donkey","door","dot","double","doubt","down","dozen","draw","drawn","dream","dress","drew","dried","drink","drive","driven","driver","driving","drop","dropped","drove","dry","duck","due","dug","dull","during","dust","duty","each","eager","ear","earlier","early","earn","earth","easier","easily","east","easy","eat","eaten","edge","education","effect","effort","egg","eight","either","electric","electricity","element","elephant","eleven","else","empty","end","enemy","energy","engine","engineer","enjoy","enough","enter","entire","entirely","environment","equal","equally","equator","equipment","escape","especially","essential","establish","even","evening","event","eventually","ever","every","everybody","everyone","everything","everywhere","evidence","exact","exactly","examine","example","excellent","except","exchange","excited","excitement","exciting","exclaimed","exercise","exist","expect","experience","experiment","explain","explanation","explore","express","expression","extra","eye","face","facing","fact","factor","factory","failed","fair","fairly","fall","fallen","familiar","family","famous","far","farm","farmer","farther","fast","fastened","faster","fat","father","favorite","fear","feathers","feature","fed","feed","feel","feet","fell","fellow","felt","fence","few","fewer","field","fierce","fifteen","fifth","fifty","fight","fighting","figure","fill","film","final","finally","find","fine","finest","finger","finish","fire","fireplace","firm","first","fish","five","fix","flag","flame","flat","flew","flies","flight","floating","floor","flow","flower","fly","fog","folks","follow","food","foot","football","for","force","foreign","forest","forget","forgot","forgotten","form","former","fort","forth","forty","forward","fought","found","four","fourth","fox","frame","free","freedom","frequently","fresh","friend","friendly","frighten","frog","from","front","frozen","fruit","fuel","full","fully","fun","function","funny","fur","furniture","further","future","gain","game","garage","garden","gas","gasoline","gate","gather","gave","general","generally","gentle","gently","get","getting","giant","gift","girl","give","given","giving","glad","glass","globe","go","goes","gold","golden","gone","good","goose","got","government","grabbed","grade","gradually","grain","grandfather","grandmother","graph","grass","gravity","gray","great","greater","greatest","greatly","green","grew","ground","group","grow","grown","growth","guard","guess","guide","gulf","gun","habit","had","hair","half","halfway","hall","hand","handle","handsome","hang","happen","happened","happily","happy","harbor","hard","harder","hardly","has","hat","have","having","hay","he","headed","heading","health","heard","hearing","heart","heat","heavy","height","held","hello","help","helpful","her","herd","here","herself","hidden","hide","high","higher","highest","highway","hill","him","himself","his","history","hit","hold","hole","hollow","home","honor","hope","horn","horse","hospital","hot","hour","house","how","however","huge","human","hundred","hung","hungry","hunt","hunter","hurried","hurry","hurt","husband","ice","idea","identity","if","ill","image","imagine","immediately","importance","important","impossible","improve","in","inch","include","including","income","increase","indeed","independent","indicate","individual","industrial","industry","influence","information","inside","instance","instant","instead","instrument","interest","interior","into","introduced","invented","involved","iron","is","island","it","its","itself","jack","jar","jet","job","join","joined","journey","joy","judge","jump","jungle","just","keep","kept","key","kids","kill","kind","kitchen","knew","knife","know","knowledge","known","label","labor","lack","lady","laid","lake","lamp","land","language","large","larger","largest","last","late","later","laugh","law","lay","layers","lead","leader","leaf","learn","least","leather","leave","leaving","led","left","leg","length","lesson","let","letter","level","library","lie","life","lift","light","like","likely","limited","line","lion","lips","liquid","list","listen","little","live","living","load","local","locate","location","log","lonely","long","longer","look","loose","lose","loss","lost","lot","loud","love","lovely","low","lower","luck","lucky","lunch","lungs","lying","machine","machinery","mad","made","magic","magnet","mail","main","mainly","major","make","making","man","managed","manner","manufacturing","many","map","mark","market","married","mass","massage","master","material","mathematics","matter","may","maybe","me","meal","mean","means","meant","measure","meat","medicine","meet","melted","member","memory","men","mental","merely","met","metal","method","mice","middle","might","mighty","mile","military","milk","mill","mind","mine","minerals","minute","mirror","missing","mission","mistake","mix","mixture","model","modern","molecular","moment","money","monkey","month","mood","moon","more","morning","most","mostly","mother","motion","motor","mountain","mouse","mouth","move","movement","movie","moving","mud","muscle","music","musical","must","my","myself","mysterious","nails","name","nation","national","native","natural","naturally","nature","near","nearby","nearer","nearest","nearly","necessary","neck","needed","needle","needs","negative","neighbor","neighborhood","nervous","nest","never","new","news","newspaper","next","nice","night","nine","no","nobody","nodded","noise","none","noon","nor","north","nose","not","note","noted","nothing","notice","noun","now","number","numeral","nuts","object","observe","obtain","occasionally","occur","ocean","of","off","offer","office","officer","official","oil","old","older","oldest","on","once","one","only","onto","open","operation","opinion","opportunity","opposite","or","orange","orbit","order","ordinary","organization","organized","origin","original","other","ought","our","ourselves","out","outer","outline","outside","over","own","owner","oxygen","pack","package","page","paid","pain","paint","pair","palace","pale","pan","paper","paragraph","parallel","parent","park","part","particles","particular","particularly","partly","parts","party","pass","passage","past","path","pattern","pay","peace","pen","pencil","people","per","percent","perfect","perfectly","perhaps","period","person","personal","pet","phrase","physical","piano","pick","picture","pictured","pie","piece","pig","pile","pilot","pine","pink","pipe","pitch","place","plain","plan","plane","planet","planned","planning","plant","plastic","plate","plates","play","pleasant","please","pleasure","plenty","plural","plus","pocket","poem","poet","poetry","point","pole","police","policeman","political","pond","pony","pool","poor","popular","population","porch","port","position","positive","possible","possibly","post","pot","potatoes","pound","pour","powder","power","powerful","practical","practice","prepare","present","president","press","pressure","pretty","prevent","previous","price","pride","primitive","principal","principle","printed","private","prize","probably","problem","process","produce","product","production","program","progress","promised","proper","properly","property","protection","proud","prove","provide","public","pull","pupil","pure","purple","purpose","push","put","putting","quarter","queen","question","quick","quickly","quiet","quietly","quite","rabbit","race","radio","railroad","rain","raise","ran","ranch","range","rapidly","rate","rather","raw","rays","reach","read","reader","ready","real","realize","rear","reason","recall","receive","recent","recently","recognize","record","red","refer","refused","region","regular","related","relationship","religious","remain","remarkable","remember","remove","repeat","replace","replied","report","represent","require","research","respect","rest","result","return","review","rhyme","rhythm","rice","rich","ride","riding","right","ring","rise","rising","river","road","roar","rock","rocket","rocky","rod","roll","roof","room","root","rope","rose","rough","round","route","row","rubbed","rubber","rule","ruler","run","running","rush","sad","saddle","safe","safety","said","sail","sale","salmon","salt","same","sand","sang","sat","satellites","satisfied","save","saved","saw","say","scale","scared","scene","school","science","scientific","scientist","score","screen","sea","search","season","seat","second","secret","section","see","seed","seeing","seems","seen","seldom","select","selection","sell","send","sense","sent","sentence","separate","series","serious","serve","service","sets","setting","settle","settlers","seven","several","shade","shadow","shake","shaking","shall","shallow","shape","share","sharp","she","sheep","sheet","shelf","shells","shelter","shine","shinning","ship","shirt","shoe","shoot","shop","shore","short","shorter","shot","should","shoulder","shout","show","shown","shut","sick","sides","sight","sign","signal","silence","silent","silk","silly","silver","similar","simple","simplest","simply","since","sing","single","sink","sister","sit","sitting","situation","six","size","skill","skin","sky","slabs","slave","sleep","slept","slide","slight","slightly","slip","slipped","slope","slow","slowly","small","smaller","smallest","smell","smile","smoke","smooth","snake","snow","so","soap","social","society","soft","softly","soil","solar","sold","soldier","solid","solution","solve","some","somebody","somehow","someone","something","sometime","somewhere","son","song","soon","sort","sound","source","south","southern","space","speak","special","species","specific","speech","speed","spell","spend","spent","spider","spin","spirit","spite","split","spoken","sport","spread","spring","square","stage","stairs","stand","standard","star","stared","start","state","statement","station","stay","steady","steam","steel","steep","stems","step","stepped","stick","stiff","still","stock","stomach","stone","stood","stop","stopped","store","storm","story","stove","straight","strange","stranger","straw","stream","street","strength","stretch","strike","string","strip","strong","stronger","struck","structure","struggle","stuck","student","studied","studying","subject","substance","success","successful","such","sudden","suddenly","sugar","suggest","suit","sum","summer","sun","sunlight","supper","supply","support","suppose","sure","surface","surprise","surrounded","swam","sweet","swept","swim","swimming","swing","swung","syllable","symbol","system","table","tail","take","taken","tales","talk","tall","tank","tape","task","taste","taught","tax","tea","teach","teacher","team","tears","teeth","telephone","television","tell","temperature","ten","tent","term","terrible","test","than","thank","that","thee","them","themselves","then","theory","there","therefore","these","they","thick","thin","thing","think","third","thirty","this","those","thou","though","thought","thousand","thread","three","threw","throat","through","throughout","throw","thrown","thumb","thus","thy","tide","tie","tight","tightly","till","time","tin","tiny","tip","tired","title","to","tobacco","today","together","told","tomorrow","tone","tongue","tonight","too","took","tool","top","topic","torn","total","touch","toward","tower","town","toy","trace","track","trade","traffic","trail","train","transportation","trap","travel","treated","tree","triangle","tribe","trick","tried","trip","troops","tropical","trouble","truck","trunk","truth","try","tube","tune","turn","twelve","twenty","twice","two","type","typical","uncle","under","underline","understanding","unhappy","union","unit","universe","unknown","unless","until","unusual","up","upon","upper","upward","us","use","useful","using","usual","usually","valley","valuable","value","vapor","variety","various","vast","vegetable","verb","vertical","very","vessels","victory","view","village","visit","visitor","voice","volume","vote","vowel","voyage","wagon","wait","walk","wall","want","war","warm","warn","was","wash","waste","watch","water","wave","way","we","weak","wealth","wear","weather","week","weigh","weight","welcome","well","went","were","west","western","wet","whale","what","whatever","wheat","wheel","when","whenever","where","wherever","whether","which","while","whispered","whistle","white","who","whole","whom","whose","why","wide","widely","wife","wild","will","willing","win","wind","window","wing","winter","wire","wise","wish","with","within","without","wolf","women","won","wonder","wonderful","wood","wooden","wool","word","wore","work","worker","world","worried","worry","worse","worth","would","wrapped","write","writer","writing","written","wrong","wrote","yard","year","yellow","yes","yesterday","yet","you","young","younger","your","yourself","youth","zero","zebra","zipper","zoo","zulu"],Ae=le.reduce((h,a)=>a.length<h.length?a:h).length,Te=le.reduce((h,a)=>a.length>h.length?a:h).length;function bt(h){const a=h!=null&&h.seed?new mt(h.seed):null,{minLength:e,maxLength:t,...n}=h||{};function i(){let d=typeof e!="number"?Ae:s(e);const y=typeof t!="number"?Te:s(t);d>y&&(d=y);let v=!1,E;for(;!v;)E=l(),v=E.length<=y&&E.length>=d;return E}function l(){return le[r(le.length)]}function s(d){return d<Ae&&(d=Ae),d>Te&&(d=Te),d}function r(d){const y=a?a():Math.random();return Math.floor(y*d)}if(h===void 0)return i();if(typeof h=="number")h={exactly:h};else if(Object.keys(n).length===0)return i();h.exactly&&(h.min=h.exactly,h.max=h.exactly),typeof h.wordsPerString!="number"&&(h.wordsPerString=1),typeof h.formatter!="function"&&(h.formatter=d=>d),typeof h.separator!="string"&&(h.separator=" ");const o=h.min+r(h.max+1-h.min);let u=[],c="",f=0;for(let d=0;d<o*h.wordsPerString;d++)f===h.wordsPerString-1?c+=h.formatter(i(),f):c+=h.formatter(i(),f)+h.separator,f++,(d+1)%h.wordsPerString===0&&(u.push(c),c="",f=0);return typeof h.join=="string"&&(u=u.join(h.join)),u}class Ge{validatePassphrase(a){if(a!=null&&a.length<8)throw new Error("Passphrase must be at least 8 characters")}arrayBufferToHex(a){return Array.from(new Uint8Array(a)).map(e=>e.toString(16).padStart(2,"0")).join("")}hexToArrayBuffer(a){const e=new Uint8Array(a.length/2);for(let t=0;t<a.length;t+=2)e[t/2]=parseInt(a.slice(t,t+2),16);return e.buffer}async generateRandomString(a){const t=await new ve().getRandomBytes(a);return this.arrayBufferToHex(t)}generatePasssphrase(){return bt({exactly:8,join:"-"})}async encryptMessage(a,e=null){this.validatePassphrase(e);const t=new ve;e=e||this.generatePasssphrase();const n=await t.getRandomBytes(8),i=await t.derivePassphraseKey(e,n,64e3);var l=new TextEncoder;const s=await t.encrypt(i,l.encode(a)),r=this.arrayBufferToHex(n)+s;return{passphrase:e,secret:r}}async decryptMessage(a,e){try{this.validatePassphrase(e);const n=new ve,i=this.hexToArrayBuffer(a.slice(0,16));a=a.slice(16);const l=await n.derivePassphraseKey(e,i,64e3);var t=new TextDecoder;const s=await n.decrypt(l,a),r=t.decode(s);if((r==null?void 0:r.length)>0)return r;throw new Error}catch{throw new Error("Could not decrypt message. Password might be wrong. Message destroyed.")}}}const wt=["value","rows","placeholder"],Et={class:"flex flex-wrap"},xt={class:"ml-6"},vt={__name:"TextAreaInput",props:{modelValue:String,maxLength:{type:Number,default:0},rows:{type:Number,default:3},placeholder:{type:String,default:""},autofocus:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(h,{expose:a}){const e=h,t=M(null),n=M(null);return Qe(()=>{e.autofocus&&t.value.focus()}),a({focus:()=>t.value.focus()}),F(()=>{}),(i,l)=>{var s,r,o,u,c,f,d,y,v,E;return x(),P("span",{onClick:l[1]||(l[1]=()=>t.value.focus()),ref_key:"base",ref:n,class:V({"relative ring-0 focus-within:ring-1 border-gray-300 dark:border-gray-700 dark:bg-gray-700 dark:text-gray-200 focus-within:border-gray-500 dark:focus-within:border-gray-600 focus-within:ring-gray-500 dark:focus-within:ring-gray-600 rounded-md shadow-sm":h.maxLength==0||((r=(s=t.value)==null?void 0:s.value)==null?void 0:r.length)<=h.maxLength,"text-red-500 relative border-red-300 dark:border-red-700 dark:bg-red-100 dark:text-red-200 focus:border-red-500 dark:focus:border-red-600 focus:ring-red-500 dark:focus:ring-red-600 rounded-md shadow-sm bg-red-50":h.maxLength>0&&((u=(o=t.value)==null?void 0:o.value)==null?void 0:u.length)>h.maxLength})},[m("textarea",{ref_key:"input",ref:t,class:V(["w-full border-0 focus:ring-0 -mt-2 -ml-2 -mr-2 mb-2 dark:bg-gray-700 dark:text-gray-200 placeholder-gray-400 dark:placeholder-gray-300",{"bg-red-50 dark:bg-red-100 text-red-500 dark:text-red-600":h.maxLength>0&&((f=(c=t.value)==null?void 0:c.value)==null?void 0:f.length)>h.maxLength}]),value:h.modelValue,rows:h.rows,placeholder:h.placeholder,onInput:l[0]||(l[0]=O=>i.$emit("update:modelValue",O.target.value))},null,42,wt),h.maxLength>0?(x(),P("div",{key:0,class:V(["absolute bottom-2 right-6 text-sm",{"text-red-500":((y=(d=t.value)==null?void 0:d.value)==null?void 0:y.length)>h.maxLength}])},[m("div",Et,[l[2]||(l[2]=m("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"absolute size-4 ml-1 top-1"},[m("path",{"fill-rule":"evenodd",d:"M4.848 2.771A49.144 49.144 0 0 1 12 2.25c2.43 0 4.817.178 7.152.52 1.978.292 3.348 2.024 3.348 3.97v6.02c0 1.946-1.37 3.678-3.348 3.97a48.901 48.901 0 0 1-3.476.383.39.39 0 0 0-.297.17l-2.755 4.133a.75.75 0 0 1-1.248 0l-2.755-4.133a.39.39 0 0 0-.297-.17 48.9 48.9 0 0 1-3.476-.384c-1.978-.29-3.348-2.024-3.348-3.97V6.741c0-1.946 1.37-3.68 3.348-3.97ZM6.75 8.25a.75.75 0 0 1 .75-.75h9a.75.75 0 0 1 0 1.5h-9a.75.75 0 0 1-.75-.75Zm.75 2.25a.75.75 0 0 0 0 1.5H12a.75.75 0 0 0 0-1.5H7.5Z","clip-rule":"evenodd"})],-1)),m("span",xt,$(h.maxLength-((E=(v=t.value)==null?void 0:v.value)==null?void 0:E.length)),1)])],2)):K("",!0)],2)}}},St={class:"mt-5 md:mt-0 md:col-span-2 opacity-95"},At={class:"grid grid-cols-6 gap-6"},Tt={key:0,class:"flex items-center justify-end px-4 py-3 bg-gray-50 dark:bg-gray-800 text-end sm:px-6 shadow sm:rounded-bl-md sm:rounded-br-md"},Ct={__name:"FlatFormSection",emits:["submitted"],setup(h){const a=F(()=>!!Xe().actions);return(e,t)=>(x(),P("div",St,[m("form",{onSubmit:t[0]||(t[0]=W(n=>e.$emit("submitted"),["prevent"]))},[m("div",{class:V(["px-4 py-5 bg-gray-50 dark:bg-gray-900 sm:p-6 shadow",a.value?"sm:rounded-tl-md sm:rounded-tr-md":"sm:rounded-md"])},[m("div",At,[ie(e.$slots,"form")])],2),a.value?(x(),P("div",Tt,[ie(e.$slots,"actions")])):K("",!0)],32)]))}},kt=["value"],Bt=["value"],Pt={__name:"SelectInput",props:{modelValue:String,options:Array},emits:["update:modelValue"],setup(h,{expose:a}){const e=M(null);return Qe(()=>{e.value.hasAttribute("autofocus")&&e.value.focus()}),a({focus:()=>e.value.focus()}),(t,n)=>(x(),P("select",{ref_key:"input",ref:e,class:"border-gray-300 dark:border-gray-700 dark:bg-gray-700 dark:text-gray-200 focus:border-gray-500 dark:focus:border-gray-600 focus:ring-gray-500 dark:focus:ring-gray-600 rounded-md shadow-sm",value:h.modelValue,onInput:n[0]||(n[0]=i=>t.$emit("update:modelValue",i.target.value))},[(x(!0),P(Ze,null,We(h.options,i=>(x(),P("option",{key:i,value:i.value},$(i.label),9,Bt))),128))],40,kt))}},Ot={class:"w-full"},_t={class:"relative"},Nt={key:0,id:"default-icon"},It={key:1,id:"success-icon",class:"inline-flex items-center"},Fe={__name:"CodeBlock",props:{value:String},setup(h){const a=h,e=M(null),t=M(!1),n=i=>{navigator.clipboard.writeText(i),t.value=!0,setTimeout(()=>t.value=!1,1e3)};return(i,l)=>(x(),P("div",Ot,[m("div",_t,[l[3]||(l[3]=m("label",{for:"npm-install-copy-button",class:"sr-only"},"Label",-1)),m("code",{ref_key:"text",ref:e,class:"col-span-6 bg-gray-50 border border-gray-300 text-gray-500 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-gray-400 dark:focus:ring-blue-500 dark:focus:border-blue-500",disabled:"",readonly:""},[ie(i.$slots,"default",{},()=>[B($(a.value),1)])],512),m("button",{type:"button",onClick:l[0]||(l[0]=W(s=>n(e.value.innerText),["prevent"])),"data-tooltip-target":"tooltip-copy-npm-install-copy-button",class:"absolute end-2 bottom-1 translate-y-1 text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg p-1 mb-1 inline-flex items-center justify-center hover:text-gray-900 dark:hover:text-white"},[t.value?K("",!0):(x(),P("span",Nt,l[1]||(l[1]=[m("svg",{class:"w-3.5 h-3.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 18 20"},[m("path",{d:"M16 1h-3.278A1.992 1.992 0 0 0 11 0H7a1.993 1.993 0 0 0-1.722 1H2a2 2 0 0 0-2 2v15a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2Zm-3 14H5a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2Zm0-4H5a1 1 0 0 1 0-2h8a1 1 0 1 1 0 2Zm0-5H5a1 1 0 0 1 0-2h2V2h4v2h2a1 1 0 1 1 0 2Z"})],-1)]))),t.value?(x(),P("span",It,l[2]||(l[2]=[m("svg",{class:"w-3.5 h-3.5 text-blue-700 dark:text-blue-500","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 12"},[m("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M1 5.917 5.724 10.5 15 1.5"})],-1)]))):K("",!0)]),l[4]||(l[4]=m("div",{id:"tooltip-copy-npm-install-copy-button",role:"tooltip",class:"absolute z-10 invisible inline-block px-3 py-2 text-sm font-medium text-white transition-opacity duration-300 bg-gray-900 rounded-lg shadow-sm opacity-0 tooltip dark:bg-gray-700"},[m("span",{id:"default-tooltip-message"},"Copy to clipboard"),m("span",{id:"success-tooltip-message",class:"hidden"},"Copied!"),m("div",{class:"tooltip-arrow","data-popper-arrow":""})],-1))])]))}},Ht={class:"sr-only"},Dt={key:0,class:"font-medium"},jt={class:"pl-6"},Ce={__name:"Alert",props:{type:{type:String,default:"info"},message:{type:String,default:""},hideTitle:{type:Boolean,default:!1}},setup(h){const a=h,e={"flex items-center p-4 mb-4 text-sm text-green-800 rounded-lg bg-green-50 dark:bg-gray-800 dark:text-green-400":a.type=="Success","flex items-center p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400":a.type=="Error","flex items-center p-4 mb-4 text-sm text-yellow-800 rounded-lg bg-yellow-50 dark:bg-gray-800 dark:text-yellow-300":a.type=="Warning","flex items-center p-4 mb-4 text-sm text-blue-800 rounded-lg bg-blue-50 dark:bg-gray-800 dark:text-blue-400":a.type=="Info"};return(t,n)=>(x(),P("div",{class:V([e,"relative"]),role:"alert"},[n[1]||(n[1]=m("svg",{class:"absolute top-5 flex-shrink-0 inline w-4 h-4 me-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},[m("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"})],-1)),m("span",Ht,$(a.type),1),m("div",null,[h.hideTitle?K("",!0):(x(),P("span",Dt,$(a.type),1)),n[0]||(n[0]=B()),m("div",jt,[ie(t.$slots,"default",{},()=>[B($(a.message),1)])])])]))}},Rt={class:"col-span-12"},Kt={key:0,class:"col-span-12"},Lt={class:"col-span-12"},$t={key:0},Ut={key:1},qt={class:"flex flex-wrap mt-2 relative text-sm gap-2"},Mt={key:0},Vt={key:1,class:"flex flex-wrap gap-1"},Gt={key:2,class:"flex flex-wrap gap-1"},Ft=["href"],Qt={class:"flex flex-wrap mt-2 gap-1"},zt={key:0,class:"text-sm text-red-600 dark:text-red-400"},Yt={class:"col-span-12"},Xt={class:"flex flex-wrap sm:flex-nowrap gap-2 sm:space-y-0 sm:space-y-0"},Zt={key:0,class:"w-full"},Wt={key:0},Jt={key:1},er={key:1},tr={key:0},rr={key:1},ir={__name:"SecretForm",props:{secret:{type:String,default:null},decryptUrl:{type:String,default:null}},setup(h){const a=I().props.config.secrets.expiry,e=M("generating"),t=()=>{E.message="",E.expires_in=a,s.password=null,e.value="generating",Je.reload()},n=h,i=M(null),l=ue({}),s=ue({password:null}),r=M(!1),o=F(()=>{var g,p;return n.secret&&(!((p=(g=I().props.jetstream.flash)==null?void 0:g.secret)!=null&&p.message)||r.value===!1)?"mt-1 block w-full blur-sm":"mt-1 block w-full"}),u=g=>{switch(g.code){case 429:return"That's too many messages in a short time. Please wait try again in a minute.";default:return g.message}},c=g=>g.toString().replace(new RegExp("\\B(?<!\\.\\d*)(?=(\\d{3})+(?!\\d))","g"),","),f=()=>{new Ge().encryptMessage(E.message,s.password).then(p=>{E.transform(b=>({...b,message:p.secret})).post(route("secret.store"),{preserveScroll:!0,onSuccess:()=>{var b;if((b=I().props.jetstream.flash)!=null&&b.error){E.setError("message",u(I().props.jetstream.flash.error));return}p.passphrase!=s.password&&(s.password=p.passphrase),e.value="generated"}})}).catch(p=>{s.setError("password",p.message)})},d=F(()=>n.secret==null?"Enter a passsword, or leave blank to auto generate a password for you.":"Enter your password to decrypt the message.");M(!1);const y=F(()=>{var p,b,T,A,S,k,_,N,H;let g=(T=(b=(p=I().props)==null?void 0:p.auth)==null?void 0:b.user)!=null&&T.id?"user":"guest";return(k=(S=(A=I().props)==null?void 0:A.auth)==null?void 0:S.user)!=null&&k.id?(H=(N=(_=I().props)==null?void 0:_.auth)==null?void 0:N.user)!=null&&H.subscription?g="subscribed":g="user":g="guest",g}),v=F(()=>{let g=0;switch(y.value){case"subscribed":g=I().props.auth.user.plan.settings.expiry.expiry_minutes;break;case"user":g=I().props.config.secrets.expiry_limits.user;break;case"guest":g=I().props.config.secrets.expiry_limits.guest;break}return console.log(y.value,g),I().props.config.secrets.expiry_options.filter(p=>p.value<=g)}),E=ue({message:n.secret?"This isnt the actual messageits just a placeholder. To view the message, please click the button below.":"",expires_in:v.value[v.value.length-1].value}),O=F(()=>{switch(y.value){case"subscribed":return I().props.auth.user.plan.settings.messages.message_length;case"user":return I().props.config.secrets.message_length.user;case"guest":return I().props.config.secrets.message_length.guest}}),U=()=>{const g=new Ge;l.get(n.decryptUrl,{preserveScroll:!0,preserveState:!0,onSuccess:()=>{var p,b,T;if(!((p=I().props.jetstream.flash)!=null&&p.error)&&((T=(b=I().props.jetstream.flash)==null?void 0:b.error)==null?void 0:T.code)!=404){const A=I().props.jetstream.flash.secret.message,S=s.password;g.decryptMessage(A,S).then(k=>{E.message=k,r.value=!0}).catch(k=>{E.setError("message",k)})}},onError:()=>{E.setError("message","Could not get your message. Either the password was wrong, or the message is already expired, or the message was already retrieved. You have no more attempts.")}})};return(g,p)=>(x(),G(Ct,null,{title:j(()=>p[3]||(p[3]=[B(" FlashView ")])),form:j(()=>{var b,T,A,S,k,_,N,H,L;return[m("div",Rt,[n.secret!=null?(x(),G(Ce,{key:0,type:"Warning","hide-title":""},{default:j(()=>p[4]||(p[4]=[m("div",{class:"mb-2"},[B(" You can attempt to retrieve this message "),m("span",{class:"relative inline-block"},[B(" ONLY ONCE "),m("svg",{class:"underline-svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 300 20"},[m("path",{d:"M0 15 Q150 -10 300 15"})])]),B(". ")],-1),m("ol",{class:"space-y-1 list-decimal list-inside"},[m("li",null,"Wrong password will result in the message being deleted."),m("li",null,"Correct password will show the message, and the message will be deleted."),m("li",null,"Message will be deleted after the expiration time.")],-1)])),_:1})):K("",!0),((b=g.$page.props.jetstream.flash.error)==null?void 0:b.code)==404?(x(),G(Ce,{key:1,"hide-title":"",type:"Error"},{default:j(()=>p[5]||(p[5]=[B(" This message has expired or has already been retrieved. ")])),_:1})):K("",!0)]),e.value=="generated"?(x(),P("div",Kt,[R(Ce,{"hide-title":"",type:"Success"},{default:j(()=>p[6]||(p[6]=[B(" Please share the link and password separately to the recipient. The message can be retrieved only once and only with both the link and the password. If you wish to prematurely delete the message, you may visit the link and enter any random password and click retrieve. ")])),_:1})])):K("",!0),m("div",Lt,[e.value=="generated"?(x(),P("span",$t,[R(ke,{value:"Retrieval Link"}),e.value=="generated"?(x(),G(Fe,{key:0,value:(A=(T=g.$page.props.jetstream.flash)==null?void 0:T.secret)==null?void 0:A.url,class:"break-words mt-1"},null,8,["value"])):K("",!0)])):(x(),P("span",Ut,[R(vt,{autofocus:n.secret==null,id:"message",rows:"7",modelValue:C(E).message,"onUpdate:modelValue":p[0]||(p[0]=D=>C(E).message=D),type:"text",class:V(o.value),placeholder:"Your secret message...","max-length":O.value},null,8,["autofocus","modelValue","class","max-length"]),m("div",qt,[p[11]||(p[11]=m("div",{class:"flex flex-wrap"},[m("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"size-4"},[m("path",{"fill-rule":"evenodd",d:"M12 1.5a5.25 5.25 0 0 0-5.25 5.25v3a3 3 0 0 0-3 3v6.75a3 3 0 0 0 3 3h10.5a3 3 0 0 0 3-3v-6.75a3 3 0 0 0-3-3v-3c0-2.9-2.35-5.25-5.25-5.25Zm3.75 8.25v-3a3.75 3.75 0 1 0-7.5 0v3h7.5Z","clip-rule":"evenodd"})]),m("div",{class:"ml-1"},"End-to-end encrypted")],-1)),!g.$page.props.auth.user||!g.$page.props.auth.user.subscription?(x(),P("div",Mt,"|")):K("",!0),g.$page.props.auth.user?g.$page.props.auth.user.subscription?K("",!0):(x(),P("div",Gt,[B(" Is "+$(O.value)+" characters still too short, or need a longer expiry? - ",1),m("a",{as:"a",class:"underline text-gamboge-200",href:g.route("plans.index")},"subscribe to a paid plan",8,Ft),B(" to increase the limit to "+$(c(g.$page.props.config.secrets.message_length.basic))+" characters!!! and an expiry of upto "+$(g.$page.props.config.secrets.expiry_options[g.$page.props.config.secrets.expiry_options.length-1].label)+". ",1)])):(x(),P("div",Vt,[B(" Is "+$(O.value)+" characters too short, or need a longer expiry? - ",1),R(C(X),{class:"underline text-gamboge-200",href:g.route("login")},{default:j(()=>p[7]||(p[7]=[B("login")])),_:1},8,["href"]),p[9]||(p[9]=B(" or ")),R(C(X),{class:"underline text-gamboge-200",href:g.route("register")},{default:j(()=>p[8]||(p[8]=[B("create a free account!")])),_:1},8,["href"]),p[10]||(p[10]=B(" to increase the limit. "))]))]),m("div",Qt,[R(fe,{message:C(E).errors.message},null,8,["message"]),(S=C(E).errors.message)!=null&&S.length&&((k=g.$page.props.jetstream.flash.error)==null?void 0:k.code)==429?(x(),P("div",zt,[p[14]||(p[14]=B(" Or ")),R(C(X),{class:"underline text-gamboge-200",href:g.route("login")},{default:j(()=>p[12]||(p[12]=[B("login")])),_:1},8,["href"]),p[15]||(p[15]=B(" or ")),R(C(X),{class:"underline text-gamboge-200",href:g.route("register")},{default:j(()=>p[13]||(p[13]=[B("create a free account!")])),_:1},8,["href"]),p[16]||(p[16]=B(" to send more. "))])):K("",!0)])]))]),m("div",Yt,[m("div",Xt,[((N=(_=g.$page.props.jetstream.flash)==null?void 0:_.secret)==null?void 0:N.message)==null?(x(),P("div",Zt,[e.value=="generated"?(x(),P("span",Wt,[R(ke,{value:"Password"}),R(Fe,{value:C(s).password,class:"mt-1"},null,8,["value"])])):(x(),P("span",Jt,[R(et,{id:"password",autofocus:n.secret!=null,ref_key:"passwordInput",ref:i,modelValue:C(s).password,"onUpdate:modelValue":p[1]||(p[1]=D=>C(s).password=D),type:"text",class:"mt-1 block w-full",placeholder:d.value},null,8,["autofocus","modelValue","placeholder"]),R(fe,{message:C(s).errors.password,class:"mt-2"},null,8,["message"])]))])):K("",!0),!((L=(H=g.$page.props.jetstream.flash)==null?void 0:H.secret)!=null&&L.url)&&n.secret==null?(x(),P("div",er,[R(Pt,{id:"expires_in",modelValue:C(E).expires_in,"onUpdate:modelValue":p[2]||(p[2]=D=>C(E).expires_in=D),class:"mt-1 sm:w-full",options:v.value},null,8,["modelValue","options"]),R(fe,{message:C(s).errors.expires_in,class:"mt-2"},null,8,["message"])])):K("",!0)])])]}),actions:j(()=>{var b,T,A,S,k,_;return[n.secret==null?(x(),P("span",tr,[(T=(b=g.$page.props.jetstream.flash)==null?void 0:b.secret)!=null&&T.url?(x(),G(ce,{key:0,onClick:W(t,["prevent"]),class:V({"opacity-25":C(E).processing}),disabled:C(E).processing},{default:j(()=>p[17]||(p[17]=[B(" Let's do another one ")])),_:1},8,["class","disabled"])):(x(),G(ce,{key:1,onClick:W(f,["prevent"]),class:V({"opacity-25":C(E).processing}),disabled:C(E).processing},{default:j(()=>p[18]||(p[18]=[B(" Generate link ")])),_:1},8,["class","disabled"]))])):(x(),P("span",rr,[(S=(A=g.$page.props.jetstream.flash)==null?void 0:A.secret)!=null&&S.message?(x(),G(C(X),{key:1,href:g.route("welcome"),class:"inline-flex items-center px-4 py-2 bg-gamboge-800 dark:bg-gamboge-200 border border-transparent rounded-md font-semibold text-xs text-white dark:text-gamboge-800 uppercase tracking-widest hover:bg-gamboge-700 dark:hover:bg-white focus:bg-gamboge-700 dark:focus:bg-white active:bg-gamboge-900 dark:active:bg-gamboge-300 focus:outline-none focus:ring-2 focus:ring-gamboge-500 focus:ring-offset-2 dark:focus:ring-offset-gamboge-800 disabled:opacity-50 transition ease-in-out duration-150"},{default:j(()=>p[20]||(p[20]=[B(" Send a new secret link ")])),_:1},8,["href"])):(x(),G(ce,{key:0,onClick:W(U,["prevent"]),class:V({"opacity-25":C(l).processing||((k=C(s).password)==null?void 0:k.length)==0||C(s).password==null}),disabled:C(l).processing||((_=C(s).password)==null?void 0:_.length)==0||C(s).password==null},{default:j(()=>p[19]||(p[19]=[B(" Retrieve Message ")])),_:1},8,["class","disabled"]))]))]}),_:1}))}};export{ir as default};
